<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html class="client-nojs" dir="ltr" lang="en">
<head>
<title>Документы/Руководство по программе - OpenSCADAWiki</title>
<meta content="MediaWiki 1.26.4" name="generator" />
<link href="https://www.gnu.org/copyleft/fdl.html" rel="copyright" />
<link href="files/doc.css" rel="stylesheet" /></head>
<body><div id="mw_header">
			<div class="mw-indicators">
</div>
			<h1 id="firstHeading" lang="ru">Документы/Руководство по программе</h1>
		</div><div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="ru"><div class="mw-pt-translate-header noprint" dir="ltr" lang="en">This page is a <span class="plainlinks"><a class="external text" href="http://oscada.org/wiki/index.php?title=Special:Translate&amp;group=page-Documents%2FProgram+manual&amp;action=page&amp;filter=&amp;language=ru" rel="nofollow noreferrer noopener" target="_blank">translated version</a></span> of the page <a class="external" href="http://oscada.org/wiki/Documents/Program_manual" title="Documents/Program manual">Documents/Program manual</a> and the translation is 100% complete.</div><hr /><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><div class="mw-pt-languages-list autonym"><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" href="http://oscada.org/wiki/Documents/Program_manual" title="Documents/Program manual (100% translated)">English</a>&nbsp;• ‎<span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete">российский</span>&nbsp;• ‎<a class="mw-pt-progress mw-pt-progress--stub" href="http://oscada.org/wiki/Documents/Program_manual/uk" title="Документи/Посібник по програмі (13% translated)">українська</a></div></div>
<div class="noprint" style="float:right; border:1px solid gray; width:300px; background-color:ivory; padding:2px;">
<table cellspacing="0">
<tr>
<td> <a class="image" href="http://oscada.org/wiki/File:Constr.png"><img alt="Constr.png" height="32" src="files/Constr.png" width="32" /></a>
</td>
<td style="padding-left:5px;"> Common revision and translation
</td></tr></table>
</div>
<p><i>Автор:</i> <a class="external text" href="http://wiki.oscada.org/RomanSavochenko" rel="nofollow noreferrer noopener" target="_blank">Роман Савоченко</a>
</p>
<div class="toc" id="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.A4.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="tocnumber">1</span> <span class="toctext">Функции программы</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C"><span class="tocnumber">1.1</span> <span class="toctext">Модульность</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">1.2</span> <span class="toctext">Подсистемы</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#.D0.9F.D0.9B.D0.9A_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D1.85_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="tocnumber">1.3</span> <span class="toctext">ПЛК и другие источники динамических данных, подсистема "Сбор данных"</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="tocnumber">1.4</span> <span class="toctext">Базы данных, подсистема "Базы данных"</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B.22"><span class="tocnumber">1.5</span> <span class="toctext">Архивы, подсистема "Архивы"</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.D0.9A.D0.BE.D0.BC.D0.BC.D1.83.D0.BD.D0.B8.D0.BA.D0.B0.D1.86.D0.B8.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22_.D0.B8_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="tocnumber">1.6</span> <span class="toctext">Коммуникации, подсистемы "Транспорты" и "Транспортные протоколы"</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.22"><span class="tocnumber">1.7</span> <span class="toctext">Интерфейсы пользователя, подсистема "Интерфейсы пользователя"</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="tocnumber">1.8</span> <span class="toctext">Безопасность программы, подсистема "Безопасность"</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.22"><span class="tocnumber">1.9</span> <span class="toctext">Управление модулями, подсистема "Управление модулями"</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#.D0.9D.D0.B5.D0.BF.D1.80.D0.B5.D0.B4.D1.83.D1.81.D0.BC.D0.BE.D1.82.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="tocnumber">1.10</span> <span class="toctext">Непредусмотренные возможности, подсистема "Специальные"</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8.2C_.D0.BE.D0.B1.D1.8A.D0.B5.D0.BA.D1.82.D0.BD.D0.B0.D1.8F_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C_.D0.B8_.D1.81.D1.80.D0.B5.D0.B4.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="tocnumber">1.11</span> <span class="toctext">Пользовательские функции, объектная модель и среда программирования программы</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#SCADA_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.B8_.D0.B8.D1.85_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0"><span class="tocnumber">2</span> <span class="toctext">SCADA системы и их структура</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#.D0.92.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_OpenSCADA"><span class="tocnumber">3</span> <span class="toctext">Варианты конфигурирования и использования OpenSCADA</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">3.1</span> <span class="toctext">Простое серверное подключение</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#.D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">3.2</span> <span class="toctext">Дублированное серверное подключение</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#.D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5"><span class="tocnumber">3.3</span> <span class="toctext">Дублированное серверное подключение на одном сервере</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#.D0.9A.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D1.81.D0.BA.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D0.BF.D0.BE.D1.81.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.BE.D0.BC_Web-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0._.D0.9C.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F"><span class="tocnumber">3.4</span> <span class="toctext">Клиентский доступ посредством Web-интерфейса. Место руководителя</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#.D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D0.B7.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B5_.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F.2F.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.29"><span class="tocnumber">3.5</span> <span class="toctext">Автоматизированное рабочее место (место руководителя/оператора)</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#.D0.90.D0.A0.D0.9C_.D1.81_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BE.D0.BC_.D1.81.D0.B1.D0.BE.D1.80.D0.B0_.D0.B8_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B9_.D0.BC.D0.B0.D1.88.D0.B8.D0.BD.D0.B5_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.2C_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C_....29"><span class="tocnumber">3.6</span> <span class="toctext">АРМ с сервером сбора и архивирования на одной машине (место оператора, модель ...)</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#.D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.B5.D0.B9.D1.88.D0.B5.D0.B5_.D1.81.D0.BC.D0.B5.D1.88.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.28.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C.2C_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD.D1.81.D1.82.D1.80.D0.B0.D1.86.D0.B8.D1.8F.2C_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.82.D0.BE.D1.80_....29"><span class="tocnumber">3.7</span> <span class="toctext">Простейшее смешанное подключение (модель, демонстрация, конфигуратор ...)</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#.D0.A3.D1.81.D1.82.D0.BE.D0.B9.D1.87.D0.B8.D0.B2.D0.B0.D1.8F.2C_.D1.80.D0.B0.D1.81.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D1.91.D0.BD.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"><span class="tocnumber">3.8</span> <span class="toctext">Устойчивая, распределённая конфигурация</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#.D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="tocnumber">4</span> <span class="toctext">Конфигурация и настройка программы</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.94.22"><span class="tocnumber">4.1</span> <span class="toctext">Подсистема "БД"</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="tocnumber">4.2</span> <span class="toctext">Подсистема "Безопасность"</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22"><span class="tocnumber">4.3</span> <span class="toctext"><span>Подсистема "Транспорты"</span></span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="tocnumber">4.4</span> <span class="toctext">Подсистема "Транспортные протоколы"</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="tocnumber">4.5</span> <span class="toctext">Подсистема "Сбор данных"</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B.22"><span class="tocnumber">4.6</span> <span class="toctext">Подсистема "Архивы"</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B.22"><span class="tocnumber">4.7</span> <span class="toctext">Подсистема "Пользовательские интерфейсы"</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="tocnumber">4.8</span> <span class="toctext">Подсистема "Специальные"</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.22"><span class="tocnumber">4.9</span> <span class="toctext">Подсистема "Управление модулями"</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#.D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B9_.D1.84.D0.B0.D0.B9.D0.BB_OpenSCADA_.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D0.BE.D0.B9_.D1.81.D1.82.D1.80.D0.BE.D0.BA.D0.B8_.D0.B2.D1.8B.D0.B7.D0.BE.D0.B2.D0.B0_OpenSCADA"><span class="tocnumber">4.10</span> <span class="toctext">Конфигурационный файл OpenSCADA и параметры командной строки вызова OpenSCADA</span></a></li>
</ul>
</li>
</ul>
</div>

<p>Данный документ является руководством программы с открытыми исходными текстами именуемую "OpenSCADA". OpenSCADA представляет собой открытую SCADA систему, построенную по принципам модульности, многоплатформенности и масштабируемости.
</p><p>В качестве политики разработки данной программы выбраны "open source" принципы. Выбор данной политики определяется необходимостью создания открытой, надёжной и общедоступной SCADA системы. Данная политика позволяет привлечь к разработке, тестированию, развитию, распространению и использованию программы значительное количество разработчиков, энтузиастов и других заинтересованных лиц с минимизацией и распределением усилий и финансовых затрат.
</p><p>OpenSCADA предназначена для сбора, архивирования, визуализации информации, выдачи управляющих воздействий, а также других родственных операций, характерных для полнофункциональных SCADA систем. Благодаря высокому уровню абстракции и модульности программа может использоваться во многих смежных отраслях.
</p><p>OpenSCADA <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/About#Using" title="Special:MyLanguage/About">может и применяться</a> на/в:
</p>
<ul><li> промышленных объектах в качестве полнофункциональной SCADA системы и телемеханике;</li>
<li> динамических моделях, имитаторах и тренажерах технологических процессов в реальном времени;</li>
<li> станках и промышленных роботах;</li>
<li> системах сельско-хозяйственной диспетчеризации и управления, птичниках;</li>
<li> встроенных и мобильных системах — окружениях исполнения Программируемого Логического Контролера (ПЛК), роботах, ...;</li>
<li> мониторинге оборудования серверов;</li>
<li> умных домах и автоматике зданий.</li></ul>
<p>В качестве основной операционной системы (программной платформы) для разработки и использования выбрана ОС Linux, которая является оптимальным решением в вопросах:
</p>
<ul><li> надёжности — большая доля серверов и кластеров работает на GNU/Linux;</li>
<li> гибкости/масштабируемости — ввиду своей открытости и модульности позволяет строить решения под любые требования;</li>
<li> доступности — благодаря использованию лицензии GPL это ПО является полностью свободной операционной системой, а при высокой квалификации пользователя и бесплатной;</li>
<li> популярности, развитости, поддержке, распространённости — система активно развивается множеством энтузиастов, фирм и государственными учреждениями во всем мире и получает всё большую поддержку на пользовательском и корпоративном рынке.</li></ul>
<p>Поскольку проект разрабатывается и реализуется по принципам многоплатформенности то не составляет особой проблемы портировать его на другие операционные системы (программные платформы) и аппаратные платформы. Что запланировано на будущее и в значительной степени уже осуществлено для некоторых платформ.
</p><p>Сердцем программы является модульное ядро. И в зависимости от того, какие модули подключены, программа может выступать как в роли различных серверов, так и в роли разнообразных клиентов, а также совмещать эти функции в одной программе. Это позволяет реализовывать клиент-серверную архитектуру на базе одних и тех же компонентов/модулей, экономя при этом машинную память, дисковое пространство, а также ценное время программистов.
</p><p>Серверные конфигурации программы предназначены для выдачи управляющих воздействий, сбора, обработки, архивирования, протоколирования информации от различных источников, а также предоставления этой информации клиентам (UI, GUI, TUI ...). Модульная архитектура позволяет расширять функциональность сервера без его перегрузки.
</p><p>Клиентские конфигурации могут строиться на основе различных графических библиотек (GUI/TUI ToolKits), как используя ядро программы и его модули (путём добавления к нему модуля пользовательского интерфейса), так и в качестве самостоятельного приложения, подключая ядро OpenSCADA как библиотеку.
</p><p>Возможность гибкой конфигурации программы позволяет строить решения под конкретные требования надёжности, функциональности и размеры-сложность программы.
</p>
<h2><span class="mw-headline" id=".D0.A4.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="mw-headline-number">1</span> Функции программы</span></h2>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:703px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_struct_ru.png"><img class="thumbimage" height="360" src="files/Oscada_struct_ru.png" width="701" /></a>  <div class="thumbcaption">Блочная схема OpenSCADA.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9C.D0.BE.D0.B4.D1.83.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C"><span class="mw-headline-number">1.1</span> Модульность</span></h3>
<p>Для придания гибкости и высокой степени масштабируемости OpenSCADA построена по модульному принципу. Тесная интеграция модулей с ядром улучшает стабильность програми в целом, благодаря повторному использованию отлаженного кода. Однако сам процесс разработки собственного кода модулей OpenSCADA накладывает большую ответственность — возможные ошибки вводят элемент нестабильности в программу. Возможность создания распределённых конфигураций сглаживает эту опасность.
</p><p>Модули OpenSCADA хранятся в динамических библиотеках. Каждая динамическая библиотека может содержать множество модулей различного типа. Наполнение динамических библиотек модулями определяется функциональной связностью самих модулей. Динамические библиотеки допускают горячую замену, что позволяет производить обновление отдельных частей программы в процессе функционирования. Метод хранения кода модулей в динамических библиотеках является основным для OpenSCADA, поскольку поддерживается практически всеми современными операционными системами(ОС). Однако это не исключает возможности разработки других методов хранения кода модулей.
</p><p>На основе модулей реализованы следующие функциональные части OpenSCADA:
</p>
<ul><li> базы данных;</li>
<li> коммуникационные интерфейсы, транспорты;</li>
<li> протоколы коммуникационных интерфейсов;</li>
<li> источники данных и сбор данных;</li>
<li> архивы-история (сообщений и значений);</li>
<li> интерфейсы пользователя (GUI, TUI, WebGUI, speach, signal ...);</li>
<li> дополнительные модули, специальные.</li></ul>
<p>Управление модулями осуществляется подсистемой "Планировщик модулей". Функциями подсистемы является: подключение, отключение, обновление и другие операции, связанные с модулями и библиотеками модулей.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"><span class="mw-headline-number">1.2</span> Подсистемы</span></h3>
<p>Архитектурно OpenSCADA делится на подсистемы. Подсистемы могут быть двух типов: обычные и модульные. Модульные подсистемы обладают свойством расширения посредством модулей. Каждая модульная подсистема может содержать множество модульных объектов. Например, модульная подсистема "Базы данных" содержит модульные объекты типов баз данных. Модульный объект является корнем внутри модуля.
</p><p>Всего OpenSCADA содержит девять подсистем, из них семь являются модульными. Эти девять подсистем OpenSCADA являются базовыми и присутствуют в любой конфигурации. К списку девяти подсистем могут добавляться новые, посредством самих модулей. Подсистемы OpenSCADA:
</p>
<ul><li> Безопасность.</li>
<li> Планировщик модулей.</li>
<li> Базы данных (модульная).</li>
<li> Транспорты (модульная).</li>
<li> Транспортные протоколы (модульная).</li>
<li> Сбор данных (модульная).</li>
<li> Архивы-Истории (модульная).</li>
<li> Интерфейсы пользователя (модульная).</li>
<li> Специальные (модульная).</li></ul>
<h3><span class="mw-headline" id=".D0.9F.D0.9B.D0.9A_.D0.B8_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8_.D0.B4.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D1.85_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="mw-headline-number">1.3</span> ПЛК и другие источники динамических данных, подсистема "Сбор данных"</span></h3>
<p>Подсистема "Сбор данных" предусмотрена для предоставления поддержки источников динамических данных, будь то: ПЛК, платы УСО, виртуальные источники и другое. В функции этой подсистемы входит предоставление полученных данных в структурированном виде и обеспечение управления этими данными, например — модификация данных.
</p><p>Подсистема "Сбор данных" является модульной и, как следствие, содержит модульные объекты типов источников динамических данных. Например, OpenSCADA сейчас предоставляет более чем двадцать <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules" title="Special:MyLanguage/Modules">модулей</a> и <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs/User_protocol_devices/list" title="Special:MyLanguage/Libs/User protocol devices/list">библиотечных элементов</a>
<a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs/User_protocol_devices" title="Special:MyLanguage/Libs/User protocol devices">источников логических типов</a>. Наиболее значимые и проработанные с которых:
</p>
<ul><li> Вычислитель на Java-подобном языке.;</li>
<li> Логический уровень;</li>
<li> Блочный вычислитель;</li>
<li> Шлюз источников данных;</li>
<li> Сбор данных ОС;</li>
<li> ModBus;</li>
<li> DCON клиент;</li>
<li> Клиент OPC-UA;</li>
<li> MMS(IEC-9506);</li>
<li> SNMP клиент;</li>
<li> Оборудование ICP DAS;</li>
<li> Сбор данных Siemens;</li>
<li> Diamond платы сбора данных.</li></ul>
<p>Каждый тип источника нелогического типа реализуется в отдельном модуле, который может содержать множество источников (объектов контроллеров) и каждый этот источник обычно выполняется в отдельном потоке-задаче.
</p><p>Отдельно взятый объект контроллера может содержать параметры определённых модулем типов. Например, параметры аналогового типа, основной информацией которых являются значения целого или реального типа. Структурно параметр представляет собой перечень атрибутов, которые и содержат данные. Атрибуты могут быть пяти базовых типов: логический, целый, реальный, символьная строка(текст) и объект. Структуры объектов контроллеров, параметров и их типов содержатся в подсистеме "Сбор данных", а объекты модулей осуществляют их наполнение согласно собственной специфики.
</p><p>Отдельные типы источников данных сами могут продуцировать данные как полностью их генерируя, так и обрабатывая физические данные и даже <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Libs/User_protocol_devices" title="Special:MyLanguage/Libs/User protocol devices">полностью реализуя получение этих данных в окружении OpenSCADA</a> и на её внутреннем языке. Такие источники данных называются логическими. Полностью логические источники данных представлены модулями: <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">LogicLev</a> и <a href="Modules/BlockCalc.html" title="Special:MyLanguage/Modules/BlockCalc">BlockCalc</a>. Существует ряд модулей, которые объединяют в себе логические данные как результат непосредственной обработки физических: <a href="Modules/ModBus.html" title="Special:MyLanguage/Modules/ModBus">ModBus</a> и <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/Siemens" title="Special:MyLanguage/Modules/Siemens">Siemens</a>.
</p><p>Источники динамических данных могут быть удалёнными, т.е. формироваться или получаться на удалённой станции OpenSCADA. Для связи с такими источниками данных используется модуль шлюзования <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQGate</a>. Функцией этого типа источников данных является отражение источников данных удалённой OpenSCADA станции на локальную.
</p><p>Детально ознакомиться с ключевой подсистемой "Сбор данных" и её функциями Вы можете в отдельном документе "<a href="DAQ.html" title="Special:MyLanguage/Documents/DAQ">Сбор данных в OpenSCADA</a>".
</p>
<h3><span class="mw-headline" id=".D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="mw-headline-number">1.4</span> Базы данных, подсистема "Базы данных"</span></h3>
<p>Для хранения данных программы повсеместно используются базы данных (БД). В целях систематизации доступа и управления базами данных в OpenSCADA предусмотрена подсистема "Базы данных". Для обеспечения поддержки различных БД/СУБД подсистема выполнена модульной.
</p><p>В роли модульных объектов, содержащихся в подсистеме, выступает тип БД/СУБД, т.е. модуль подсистемы "Базы данных" практически содержит реализацию доступа к определённому типу БД. Например, модули: DBF, MySQL, SQLite.
</p><p>Объект типа БД/СУБД в свою очередь содержит список объектов отдельных БД данного типа, а объект БД содержит список объектов таблиц, которые и содержат данные в табличной форме.
</p><p>Практически все данные OpenSCADA хранятся в той или иной БД. Инструментарий программы позволяет легко переносить данные из одного типа БД в другой, и, как следствие, оптимально подбирать тип БД под конкретную область применения OpenSCADA. Перенос информации с одной БД в другую может быть выполнен двумя способами. Первый — это изменение адреса рабочей БД и сохранение всей конфигурации программы на неё, второй — это прямое копирование информации между БД. Кроме копирования поддерживается и функция прямого редактирования содержимого таблиц БД.
</p><p>Для организации централизованного доступа распределённой программы к единой БД предусматриваются два способа. Первый это использование сетевых СУБД, например — MySQL. Второй способ это использование транспортного типа БД на локальных конфигурациях программы для доступа к одной центральной БД (<span style="color: red">Планируется</span>). Функцией транспортной БД является пересылка запросов к БД на удалённую OpenSCADA.
</p><p>Данные могут храниться также в конфигурационном файле программы. Реализован механизм полного отражения структуры БД на структуру конфигурационного файла. Т.е. стандартную конфигурацию можно размещать в конфигурационном файле. Суть такого механизма в том, что данные программы по умолчанию, например, при старте без БД можно описывать в конфигурационном файле. В дальнейшем эти данные могут переопределяться в БД. Кроме этого, для случаев невозможности запуска какой либо БД вообще, можно все данные хранить в конфигурационном файле.
</p><p>Для доступа к базам данных используется механизм регистрации БД. Зарегистрированные в программе БД доступны всем подсистемам OpenSCADA и могут использоваться в их работе. Благодаря этому механизму можно обеспечить распределёность хранения данных. Например, различные библиотеки могут храниться и распространяться независимо, а подключение библиотеки будет заключаться в простой регистрации нужной БД.
</p><p>В дальнейшем планируется реализация дублирования БД путём связывания зарегистрированных БД. Этот механизм позволит значительно повысить надёжность OpenSCADA в целом путём резервирования механизма хранения данных (<span style="color: red">Планируется</span>).
</p>
<h3><span class="mw-headline" id=".D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B.22"><span class="mw-headline-number">1.5</span> Архивы, подсистема "Архивы"</span></h3>
<p>Любая SCADA система предоставляет возможность архивирования собранных данных, т.е. формирование истории изменения (динамики) процессов. Архивы условно можно разделить на два типа: архивы сообщений и архивы значений.
</p><p>Особенностью архивов сообщений является то, что архивируются так называемые события. Характерным признаком события является время возникновения этого события. Архивы сообщений обычно используются для архивирования сообщений в системе, т.е. ведение логов и протоколов. В зависимости от источника сообщения могут классифицироваться по различным критериям. Например, это могут быть протоколы аварийных ситуаций, протоколы действий операторов, протоколы сбоев связи и др.
</p><p>Особенностью архивов значений является их периодичность, определяемая промежутком времени между двумя смежными значениями. Архивы значений применяются для архивирования истории непрерывных процессов. Поскольку процесс непрерывный, то и архивировать его можно только путём введения понятия квантования опроса значений, поскольку иначе мы получаем архивы бесконечных размеров, ввиду непрерывности самой природы процесса. Кроме этого практически мы можем получать значения с периодом ограниченным самими источниками данных. Например, довольно качественные источники данных в промышленности редко позволяют получать данные с частотой более 1 кГц. И это без учёта самих датчиков имеющих ещё менее качественные частотные характеристики.
</p><p>Для решения задач архивирования потоков данных в OpenSCADA предусмотрена подсистема "Архивы". Подсистема "Архивы" позволяет вести как архивы сообщений, так и архивы значений. Подсистема "Архивы" является модульной. Модульным объектом, содержащимся в подсистеме "Архивы", выступает тип архиватора. Тип архиватора определяет способ хранения данных, т.е. хранилище (файловая система, СУБД, сеть и т.д.). Каждый модуль подсистемы "Архивы" может реализовывать как архивирование сообщений, так и архивирование значений. Подсистема "Архивы" может содержать множество архивов, обслуживаемых различными модулями подсистемы.
</p><p>Сообщение в OpenSCADA характеризуется датой, уровнем важности, категорией и текстом сообщения. Дата сообщения соответственно указывает на дату и время создания сообщения. Уровень важности указывает на степень важности сообщения. Категория определяет адрес или условный идентификатор источника сообщения. Обычно категория содержит полный путь к источнику сообщения в программе. Текст сообщения собственно и несёт смысловую нагрузку сообщения.
</p><p>В процессе архивирования сообщения пропускаются через фильтр. Фильтр работает по уровню важности и категории сообщения. Уровень сообщения в фильтре указывает, что нужно пропускать сообщения с указанным или более высоким уровнем важности. Для фильтрования по категории применяются шаблоны или регулярные выражения, которые определяют какие сообщения пропускать. Каждый архиватор содержит собственные настройки фильтра. Следовательно можно легко создавать различные специализированные архиваторы для архива сообщений. Например, архиваторы сообщений можно специализировать на:
</p>
<ul><li> логи, для хранения отладочной информации и другой рабочей информации сервера;</li>
<li> различные протоколы (протокол действий клиентов, протокол нарушений и исключений, протокол событий ... ).</li></ul>
<p>В виду похожей природы сообщения и нарушения подсистема "Архивы" содержит буфер текущих нарушений, который содержит активные на данный момент нарушения с использованием категории сообщения в роли ключа-идентификатора нарушения. Доступ к списку-буферу текущих нарушений осуществляется путём указания отрицательного значения уровня сообщения. Так, формирование сообщения с отрицательным уровнем -2 вызывает помещение в буфер активных нарушений этого сообщения с уровнем 2, а так-же дублирование его непосредственно в архиве сообщения. При последующем формировании сообщения, в такой же категории, но положительным уровнем, скажем 1, будет осуществлено удаление указанного нарушения из буфера нарушений, а само сообщение также попадёт в архив сообщений. Такой механизм позволяет одновременно вести учёт активных нарушений и протоколировать их прохождение в архиве сообщений. При запросе к архиву сообщений, указание положительного уровня осуществляет запрос к архиву сообщений, а отрицательного к буферу-списку текущих нарушений.
</p><p>Архив значений в OpenSCADA выступает как независимый компонент, который включает буфер обрабатываемый архиваторами. Основным параметром архива значения является источник данных. В роли источника данных могут выступать атрибуты параметров OpenSCADA, а также другие внешние источники данных (пассивный режим). Другими источниками данных могут быть сетевые архиваторы удалённых OpenSCADA станций, среда программирования OpenSCADA и др.
</p><p>Ключевым компонентом архивирования значений непрерывных процессов является буфер значений. Буфер значений предназначен для промежуточного хранения массива значений, полученных с определённой периодичностью (квантом времени). Буфер значений используется как для непосредственного хранения больших массивов значений в архивах значений как перед непосредственным "сбросом" на физические носители, так и для манипуляций с кадрами значений, т.е. в функциях покадрового запроса значений и их помещения в буфера архивов.
</p><p>Для организации выделенных архиваторов в распределённых конфигурациях можно использовать транспортный тип архиватора (<span style="color: red">Планируется</span>). Функцией транспортного типа архиватора является отражение удалённого центрального архиватора на локальной конфигурации программы. Как следствие архиваторы транспортного типа выполняют передачу данных между локальной конфигурацией и архиватором удалённой конфигурации программы, скрывая от подсистем локальной конфигурации реальную природу архиватора.
</p>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BC.D0.BC.D1.83.D0.BD.D0.B8.D0.BA.D0.B0.D1.86.D0.B8.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22_.D0.B8_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="mw-headline-number">1.6</span> Коммуникации, подсистемы "Транспорты" и "Транспортные протоколы"</span></h3>
<p>Поскольку OpenSCADA закладывается как высоко-масштабируемая система, то поддержка коммуникаций должна быть достаточно гибкой. Для удовлетворения высокой степени гибкости коммуникации в OpenSCADA реализованы в подсистемах "Транспорты" и "Транспортные протоколы", которые являются модульными.
</p><p>Подсистема "Транспорты" предназначена для обмена неструктурированными данными между OpenSCADA и внешними системами. В роли внешних систем могут выступать и удалённые OpenSCADA. Под неструктурированными данными понимается массив символов определённой длины. Модульным объектом, содержащимся в подсистеме "Транспорты", выступает тип транспорта. Тип транспорта определяет механизм передачи неструктурированных данных. Например, это могут быть:
</p>
<ul><li> сокеты (TCP/UDP/UNIX);</li>
<li> каналы;</li>
<li> разделяемая память.</li></ul>
<p>Подсистема "Транспорты" включает поддержку входящих и исходящих транспортов. Входящий транспорт предназначен для обслуживания внешних запросов и отправки ответов. Исходящий транспорт, наоборот, предназначен для отправки сообщений и ожидания ответа. Следовательно входящий транспорт содержит конфигурацию данной станции как сервера, а исходящий транспорт содержит конфигурацию удалённого сервера. Модуль подсистемы "Транспорты" реализует поддержку как входящего, так и исходящего транспортов.
</p><p>Подсистема "Транспортные протоколы" предназначена для структуризации данных, полученных от подсистемы "Транспорты". По сути, подсистема "Транспортные протоколы" является продолжением подсистемы "Транспорты" и выполняет функции проверки структуры и целостности полученных данных. Так, для указания протокола, в связке с которым должен работать транспорт, предусмотрено специальное конфигурационное поле. Модульным объектом, содержащимся в подсистеме "Протоколы", является сам протокол. Например, транспортными протоколами могут быть:
</p>
<ul><li> HTTP (Hyper Text Transfer Protocol);</li>
<li> SelfSystem (Собственный протокол OpenSCADA).</li></ul>
<p>Полную цепочку связи можно записать следующим образом:
</p>
<ul><li> сообщение передаётся в транспорт;</li>
<li> транспорт передаёт сообщение связанному с ним протоколу путём создания нового объекта протокола;</li>
<li> протокол проверяет целостность данных;</li>
<li> если пришли все данные, то сообщить транспорту о прекращении ожидания данных и передать ему ответ иначе сообщить, что нужно ожидать ещё;</li>
<li> транспорт, получив подтверждение, отсылает ответ и удаляет объект протокола;</li>
<li> если подтверждения нет, то транспорт продолжает ожидание данных, и в случае их поступления передаёт их сохранённому объекту протокола.</li></ul>
<p>Поддерживаются протоколы и для исходящих транспортов. Исходящий протокол берёт на себя функцию общения с транспортом и реализацию особенностей протокола. Внутренняя сторона доступа к протоколу реализуется потоковым образом с собственной структурой для каждого протокольного модуля. Такой механизм позволяет выполнять прозрачный доступ к внешней системе, посредством транспорта, просто указывая имя протокола, с помощью которого обслуживать передачу.
</p><p>Благодаря стандартному API-доступа к транспортам в OpenSCADA можно легко менять способ обмена данными, не затрагивая самих обменивающихся систем. Например, в случае локального обмена можно использовать более быстрый транспорт на основе разделяемой памяти, а в случае обмена через интернет и локальную сеть использовать TCP или UDP сокеты.
</p>
<h3><span class="mw-headline" id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F.22"><span class="mw-headline-number">1.7</span> Интерфейсы пользователя, подсистема "Интерфейсы пользователя"</span></h3>
<p>SCADA-системы, как класс, предполагают наличие интерфейсов пользователя. В OpenSCADA для предоставления пользовательских интерфейсов предусмотрена подсистема "Пользовательские интерфейсы". Под пользовательским интерфейсом OpenSCADA понимается не только среда визуализации, с которой должен работать конечный пользователь, но и всё, что имеет отношение к пользователю, например:
</p>
<ul><li> среды визуализации;</li>
<li> конфигураторы;</li>
<li> сигнализаторы.</li></ul>
<p>Подсистема "Пользовательские интерфейсы" является модульной. Модульным объектом подсистемы выступает собственно конкретный интерфейс пользователя. Модульность подсистемы позволяет создавать различные интерфейсы пользователей на различных GUI/TUI библиотеках и использовать наиболее оптимальное из решений в конкретно взятом случае, например, для сред исполнения программируемых логических контроллеров можно использовать конфигураторы и визуализаторы на основе Web-технологий (WebCfg, WebUI), а в случае стационарных рабочих станций использовать те же конфигураторы и визуализаторы, но на основе библиотек типа Qt, GTK.
</p>
<h3><span class="mw-headline" id=".D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="mw-headline-number">1.8</span> Безопасность программы, подсистема "Безопасность"</span></h3>
<p>OpenSCADA является разветвлённой системой, которая состоит из десятка подсистем и может включать множество модулей. Следовательно предоставление всем неограниченного доступа к этим ресурсам является по крайней мере небезопасным. Поэтому, для разграничения доступа, в OpenSCADA предусмотрена подсистема "Безопасности". Основными функциями подсистемы "Безопасности" является:
</p>
<ul><li> хранение учётных записей пользователей и групп пользователей;</li>
<li> аутентификация пользователей;</li>
<li> проверка прав доступа пользователя к тому или иному ресурсу.</li></ul>
<h3><span class="mw-headline" id=".D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.22"><span class="mw-headline-number">1.9</span> Управление модулями, подсистема "Управление модулями"</span></h3>
<p>OpenSCADA построена по модульному принципу, что подразумевает наличие множества модулей, которыми необходимо управлять. Для выполнения функции управления модулями OpenSCADA предусмотрена подсистема "Управление модулями". Все модули на настоящий момент поставляются в программу посредством разделяемых библиотек(контейнеров). Каждый контейнер может содержать множество модулей различного типа.
</p><p>Подсистема "Управление модулями" реализует контроль за состоянием контейнеров и позволяет выполнять горячее добавление, удаление и обновление контейнеров и содержащихся в них модулей.
</p>
<h3><span class="mw-headline" id=".D0.9D.D0.B5.D0.BF.D1.80.D0.B5.D0.B4.D1.83.D1.81.D0.BC.D0.BE.D1.82.D1.80.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D0.BE.D1.81.D1.82.D0.B8.2C_.D0.BF.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="mw-headline-number">1.10</span> Непредусмотренные возможности, подсистема "Специальные"</span></h3>
<p>Разумеется предусмотреть всех возможных функций невозможно поэтому в OpenSCADA предусмотрена подсистема "Специальные". Подсистема "Специальные" является модульной и предназначена для добавления в OpenSCADA непредусмотренных функций путём модульного расширения. Например, с помощью подсистемы "Специальные" могут быть реализованы:
</p>
<ul><li> тесты OpenSCADA и её модулей;</li>
<li> библиотеки функций пользовательского программирования.</li></ul>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8.2C_.D0.BE.D0.B1.D1.8A.D0.B5.D0.BA.D1.82.D0.BD.D0.B0.D1.8F_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C_.D0.B8_.D1.81.D1.80.D0.B5.D0.B4.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="mw-headline-number">1.11</span> Пользовательские функции, объектная модель и среда программирования программы</span></h3>
<p>Любая современная SCADA система должна содержать механизмы, предоставляющие возможность программировать на пользовательском уровне, т.е. содержать среду программирования. OpenSCADA содержит такую среду. С помощью среды программирования OpenSCADA можно реализовывать:
</p>
<ul><li> Алгоритмы управления технологическими процессами.</li>
<li> Крупные динамические модели реального времени технологических, химических, физических и других процессов. </li>
<li> Адаптивные механизмы управления по моделям.</li>
<li> Пользовательские процедуры управления внутренними функциями программы, её подсистемами и модулями.</li>
<li> Гибкое формирования структур параметров на уровне пользователя с целью создания параметров нестандартной структуры и заполнения её по алгоритму пользователя.</li>
<li> Вспомогательные вычисления.</li></ul>
<p>Среда программирования OpenSCADA представляет собой комплекс средств, организующих вычислительное окружение пользователя. В состав комплекса средств входят:
</p>
<ul><li> объектная модель OpenSCADA;</li>
<li> модули библиотек функций;</li>
<li> вычислительные контроллеры подсистемы "Сбор данных" и другие вычислители.</li></ul>
<p>Модули библиотек функций предоставляют множество функций определённой направленности, расширяющих объектную модель системы. Библиотеки могут реализоваться как набором функций фиксированного типа, так и функциями, допускающими свободную модификацию и дополнение.
</p><p>Библиотеки функций фиксированного типа могут предоставляться стандартными модулями программы, органично дополняя объектную модель. Функции таких библиотек будут представлять собой интерфейс доступа к средствам модуля на уровне пользователя. Например, "Среда визуального представления данных" может предоставлять функции для выдачи различных сообщений. Используя эти функции пользователь может реализовывать интерактивные алгоритмы взаимодействия с программой.
</p><p>Библиотеки функций свободного типа предоставляют среду написания пользовательских функций на одном из языков программирования. В рамках модуля библиотек функций могут предоставляться механизмы создания библиотек функций. Так, можно создавать библиотеки аппаратов технологических процессов, а в последствии использовать их путём связывания. Различные модули библиотек функций могут предоставлять реализации различных языков программирования.
</p><p>На основе функций, предоставляемых объектной моделью, строятся вычислительные контроллеры. Вычислительные контроллеры выполняют связывание функций с параметрами программы и механизмом вычисления.
</p>
<h2><span class="mw-headline" id="SCADA_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.B8_.D0.B8.D1.85_.D1.81.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0"><span class="mw-headline-number">2</span> SCADA системы и их структура</span></h2>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:428px;"><a class="image" href="http://oscada.org/wiki/File:Scada_ru.png"><img class="thumbimage" height="752" src="files/Scada_ru.png" width="426" /></a>  <div class="thumbcaption">Рис. 2. Иерархическая SCADA-система.</div></div></div></div>
<p>SCADA (Supervisory Control And Data Acquisition) в общем виде имеют распределённую архитектуру вроде изображённой на рис. 2. Элементы SCADA систем, в смысле программного обеспечения, выполняют следующие функции:
<b>Сервер сбора:</b> представляет собой задачу или группу задач занимающихся сбором данных из источников данных, или же сами выступают в роли источником данных. В задачи сервера входит:
</p>
<ul><li> получение и/или формирование данных;</li>
<li> обработка данных;</li>
<li> обслуживание запросов на доступ к данным;</li>
<li> обслуживание запросов на модификацию данных.</li></ul>
<p><b>Сервер архивирования:</b> представляет собой задачу или группу задач, занимающихся архивированием данных. В задачи сервера входит:
</p>
<ul><li> архивирование данных SCADA-системы;</li>
<li> обслуживание запросов на доступ к архивным данным;</li>
<li> импорт/экспорт архивов.</li></ul>
<p><b>Сервер протоколирования:</b> представляет собой задачу или группу задач, занимающихся архивированием сообщений. В задачи сервера входит:
</p>
<ul><li> архивирование сообщений узлов SCADA-системы;</li>
<li> обслуживание запросов на доступ к архивным сообщениям;</li>
<li> импорт/экспорт архивов.</li></ul>
<p><b>Сервер сигнализации:</b> представляет собой задачу или группу задач, выполняющих функции сервера протоколирования в отношении узкой категории сообщений сигнализации.
<b>Рабочее место оператора:</b> представляет собой постоянно функционирующее GUI(Grafical User Interface) приложение, выполненное в одномониторном, многомониторном или панельном режиме и выполняющее функции:
</p>
<ul><li> предоставление пользовательского интерфейса для контроля за состоянием технологического процесса;</li>
<li> предоставление возможности формирования управляющих воздействий;</li>
<li> предоставление возможности изучения и анализа истории технологического процесса;</li>
<li> предоставление инструментария для генерации отчётной документации.</li></ul>
<p><b>Рабочее место инженера:</b> представляет собой GUI приложение, используемое для конфигурации SCADA системы. В задачи приложения входит:
</p>
<ul><li> предоставление инструментария для манипуляции системными функциями системы;</li>
<li> предоставление инструментария рабочего места оператора;</li>
<li> предоставление инструментария для манипуляции архитектурой SCADA системы в целом (распределение функций между станциями, создание удаление станций ... ).</li></ul>
<p><b>Рабочее место руководителя:</b> представляет собой GUI приложение, как правило, выполненное в одномониторном режиме и выполняющее функции:
</p>
<ul><li> предоставление пользовательского интерфейса для контроля за состоянием технологического процесса;</li>
<li> предоставление инструментария для изучения и анализа истории технологического процесса как непосредственно с активного сервера, так и на основе отдельных архивов;</li>
<li> предоставление инструментария  для генерации отчётной документации.</li></ul>
<p><b>Рабочее место технолога:</b> полностью включает в себя функции рабочего места оператора плюс модель технологического процесса (без непосредственной связи с технологическим процессом).
<b>Рабочее место технолога-программиста:</b> полностью включает в себя функции рабочего места технолога плюс инструментарий для создания моделей технологических процессов.
</p>
<h2><span class="mw-headline" id=".D0.92.D0.B0.D1.80.D0.B8.D0.B0.D0.BD.D1.82.D1.8B_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_OpenSCADA"><span class="mw-headline-number">3</span> Варианты конфигурирования и использования OpenSCADA</span></h2>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">3.1</span> Простое серверное подключение</span></h3>
<p>В простейшем случае OpenSCADA можно сконфигурировать в серверном режиме (рис. 3.1) для сбора и архивирования данных. Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос контроллеров;</li>
<li> архивирование значений параметров;</li>
<li> обслуживание клиентских запросов на получение различных данных сервера;</li>
<li> предоставление конфигурационного WEB-интерфейса;</li>
<li> удалённая конфигурация из OpenSCADA посредством Qt-интерфейса или другого локального интерфейса.</li>
<li> вторичное регулирование (регулирование в вычислительных контроллерах);</li>
<li> моделирующие, корректирующие и дополняющие вычисления в вычислительных контроллерах.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:337px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_simple_server_ru.png"><img class="thumbimage" height="217" src="files/Oscada_simple_server_ru.png" width="335" /></a>  <div class="thumbcaption">Рис. 3.1. Простое серверное подключение.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"><span class="mw-headline-number">3.2</span> Дублированное серверное подключение</span></h3>
<p>Для повышения надёжности и производительности OpenSСADA допускает множественное резервирование (рис. 3.2), при котором контроллеры одного экземпляра отражаются в другом. При использовании подобной конфигурации возможно распределение нагрузки опроса/вычисления на различных станциях. Данная конфигурация позволяет выполнять функции:
</p>
<ul><li> опрос контроллеров;</li>
<li> архивирование значений параметров;</li>
<li> обслуживание клиентских запросов на получение различных данных сервера;</li>
<li> резервирование параметров;</li>
<li> резервирование архивов;</li>
<li> распределение нагрузки опроса по серверам;</li>
<li> предоставление конфигурационного WEB интерфейса;</li>
<li> вторичное регулирование (регулирование в вычислительных контроллерах);</li>
<li> моделирующие, корректирующие и дополняющие вычисления в вычислительных контроллерах с возможностью распределения нагрузки по серверам.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:672px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_duplicated_server_ru.png"><img class="thumbimage" height="235" src="files/Oscada_duplicated_server_ru.png" width="670" /></a>  <div class="thumbcaption">Рис. 3.2. Дублированное серверное подключение.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.94.D1.83.D0.B1.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BC_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5"><span class="mw-headline-number">3.3</span> Дублированное серверное подключение на одном сервере</span></h3>
<p>Частным случаем дублированного соединения является дублированное соединение в рамках одного сервера (рис. 3.3), т.е. запуск нескольких станций на одной машине с перекрещиванием параметров. Целью данной конфигурации является повышение надёжности и отказоустойчивости системы путём резервирования ПО.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:664px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_duplicated_one_server_ru.png"><img class="thumbimage" height="237" src="files/Oscada_duplicated_one_server_ru.png" width="662" /></a>  <div class="thumbcaption">Рис. 3.3. Дублированное серверное подключение на одном сервере.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9A.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D1.81.D0.BA.D0.B8.D0.B9_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF_.D0.BF.D0.BE.D1.81.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.BE.D0.BC_Web-.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0._.D0.9C.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F"><span class="mw-headline-number">3.4</span> Клиентский доступ посредством Web-интерфейса. Место руководителя</span></h3>
<p>Для визуализации данных, содержащихся на сервере, хорошим решением является использование пользовательского WEB-интерфейса (рис. 3.4). Данное решение позволяет использовать стандартный WEB-браузер у клиента и следовательно является наиболее гибким, поскольку не привязано к одной платформе, т.е. является многоплатформенным. Однако это решение имеет существенные недостатки – это невысокая производительность и надёжность. В связи с этим рекомендуется использовать данный метод для визуализации некритичных данных или данных, имеющих резервный высоконадёжный способ визуализации. Например, хорошим решением будет использование этого метода у начальства промышленных установок, где всегда существует операторская с надёжным способом визуализации. Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос сервера на предмет получения данных визуализации и конфигурации;</li>
<li> визуализация данных в доступном для понимания виде;</li>
<li> формирование протоколов, отчётов;</li>
<li> манипуляция параметрами, допускающими изменение.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:443px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_for_wwwclient_ru.png"><img class="thumbimage" height="219" src="files/Oscada_for_wwwclient_ru.png" width="441" /></a>  <div class="thumbcaption">Рис. 3.4. Клиентский доступ посредством Web-интерфейса. Место руководителя.</div></div></div></div>
<h3><span class="mw-headline" id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D0.B7.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B5_.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D1.80.D1.83.D0.BA.D0.BE.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8F.2F.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.29"><span class="mw-headline-number">3.5</span> Автоматизированное рабочее место (место руководителя/оператора)</span></h3>
<p>Для визуализации критических данных, а также в случае если требуется высокое качество и производительность, можно использовать визуализацию на основе OpenSCADA, сконфигурированной с GUI модулем (рис. 3.5). Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос сервера на предмет обновления текущих значений;</li>
<li> визуализация опрошенных данных в доступном для понимания виде;</li>
<li> формирование протоколов и отчётов;</li>
<li> манипуляция параметрами, допускающими изменения.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:557px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_clientserver_AWP_ru.png"><img class="thumbimage" height="219" src="files/Oscada_clientserver_AWP_ru.png" width="555" /></a>  <div class="thumbcaption">Рис. 3.5. Автоматизированное рабочее место (место руководителя/оператора).</div></div></div></div>
<h3><span class="mw-headline" id=".D0.90.D0.A0.D0.9C_.D1.81_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BE.D0.BC_.D1.81.D0.B1.D0.BE.D1.80.D0.B0_.D0.B8_.D0.B0.D1.80.D1.85.D0.B8.D0.B2.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BD.D0.B0_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B9_.D0.BC.D0.B0.D1.88.D0.B8.D0.BD.D0.B5_.28.D0.BC.D0.B5.D1.81.D1.82.D0.BE_.D0.BE.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D0.BE.D1.80.D0.B0.2C_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C_....29"><span class="mw-headline-number">3.6</span> АРМ с сервером сбора и архивирования на одной машине (место оператора, модель ...)</span></h3>
<p>Полнофункциональная клиент-серверная конфигурация на одной машине (рис. 3.6) может использоваться для повышения надёжности системы в целом путём запуска клиента и сервера в разных процессах. Данная конфигурация позволяет без последствий для сервера останавливать клиент и выполнять с ним различные профилактические работы. Рекомендуется для использования на станциях оператора путём установки двух машин совмещающих в себе станции оператора и резервированный сервер. Данная конфигурация позволяет выполнять следующие функции:
</p>
<ul><li> опрос контроллеров;</li>
<li> обслуживание клиентских запросов;</li>
<li> визуализация;</li>
<li> выдача управляющих воздействий;</li>
<li> генерация протоколов и отчётов;</li>
<li> вторичное регулирование;</li>
<li> моделирующие, корректирующие и дополнительные вычисления в вычислительных контроллерах;</li>
<li> сбор и визуализация информации о персональном компьютере, сервере ... .</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:547px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_clientserver_AWP_one_ru.png"><img class="thumbimage" height="246" src="files/Oscada_clientserver_AWP_one_ru.png" width="545" /></a>  <div class="thumbcaption">Рис. 3.6. АРМ с сервером сбора и архивирования на одной машине (место оператора, модель ...).</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D1.81.D1.82.D0.B5.D0.B9.D1.88.D0.B5.D0.B5_.D1.81.D0.BC.D0.B5.D1.88.D0.B0.D0.BD.D0.BD.D0.BE.D0.B5_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.28.D0.BC.D0.BE.D0.B4.D0.B5.D0.BB.D1.8C.2C_.D0.B4.D0.B5.D0.BC.D0.BE.D0.BD.D1.81.D1.82.D1.80.D0.B0.D1.86.D0.B8.D1.8F.2C_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.82.D0.BE.D1.80_....29"><span class="mw-headline-number">3.7</span> Простейшее смешанное подключение (модель, демонстрация, конфигуратор ...)</span></h3>
<p>Смешанное подключение совмещает функции сервера и клиента (рис. 3.7). Может использоваться для тестовых, демонстрационных функций, а также для предоставления моделей технологических процессов как единое целое. В этом режиме могут выполняться следующие функции:
</p>
<ul><li> опрос контроллеров;</li>
<li> обслуживание клиентских запросов;</li>
<li> визуализация;</li>
<li> выдача управляющих воздействий;</li>
<li> генерация протоколов и отчётов;</li>
<li> вторичное регулирование;</li>
<li> моделирующие, корректирующие и дополняющие вычисления в вычислительных контроллерах;</li>
<li> сбор и визуализация текущей информации о персональном компьютере, сервере, модели ...&nbsp;;</li>
<li> конфигурация баз данных, подключений и др.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:376px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_misc_ru.png"><img class="thumbimage" height="268" src="files/Oscada_misc_ru.png" width="374" /></a>  <div class="thumbcaption">Рис. 3.7. Простейшее смешанное подключение (модель, демонстрация, конфигуратор ...).</div></div></div></div>
<h3><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.BE.D0.B9.D1.87.D0.B8.D0.B2.D0.B0.D1.8F.2C_.D1.80.D0.B0.D1.81.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D1.91.D0.BD.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"><span class="mw-headline-number">3.8</span> Устойчивая, распределённая конфигурация</span></h3>
<p>Данная конфигурация является одним из вариантов устойчивого/надёжного соединения (рис. 3.8). Устойчивость достигается путём распределения функций по:
</p>
<ul><li> серверам опроса;</li>
<li> центральному серверу архивирования и обслуживания клиентских запросов;</li>
<li> клиентам: АРМы и WEB-клиенты.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:740px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_distrib_conn_ru.png"><img class="thumbimage" height="453" src="files/Oscada_distrib_conn_ru.png" width="738" /></a>  <div class="thumbcaption">Рис. 3.8. Устойчивая, распределённая конфигурация.</div></div></div></div>
<p>Сервер опроса конфигурируется на основе OpenSCADA и представляет собой задачу (группу задач), занимающихся опросом контроллера (группы контроллеров одного типа). Полученные значения доступны центральному серверу через любой транспорт, поддержка которого добавляется путём подключения соответствующего модуля транспорта. Для снижения частоты опроса и величины сетевого трафика, сервер опроса может оснащаться небольшим архивом значений. Конфигурация сервера опроса хранится в одной из доступных БД.
</p><p>Центральный сервер архивирования и обслуживания клиентских запросов выполняет функцию централизованного сбора и обработки параметров серверов опроса и их значений. Доступ к серверам опроса выполняется посредством одного из доступных в OpenSCADA транспортов+протоколов (на примере это SGA). Для предоставления единого интерфейса доступа к параметрам и контроллерам используется модуль Transporter, который отражает данные серверов опроса на структуру локальных параметров.
</p><p>Для выполнения внутренних вычислений и дополнительного анализа параметров используются вычислительные контроллеры.
</p><p>Для разностороннего и глубокого архивирования используются различные модули архивов.
</p><p>Для доступа клиентов к серверу используются доступные для OpenSCADA сетевые транспорты, на примере — это Sockets, и транспортные протоколы, на примере — это протокол OpenSCADA "SelfSystem".
</p><p>Конфигурация центрального сервера хранится в одной из доступных БД (на примере это сетевая СУБД MySQL).
</p><p>Для предоставления пользовательского WEB-интерфейса используется модуль WebCfg посредством транспортного протокола "HTTP".
</p><p>Различные клиенты в их числе АРМ и WEB-клиенты выполняются на отдельных машинах в необходимом количестве. АРМ реализуется на основе OpenSCADA. В его функции входит опрос значений параметров из центрального сервера и их визуализация на GUI интерфейсе(ах). Для получения параметров в АРМ также используется модуль отражения удалённых параметров Transporter. Для предоставления доступа к архивам может использоваться модуль архива сетевого типа. Конфигурация АРМ может храниться в одной из доступных БД (в примере это сетевая СУБД MySQL, расположенная на машине центрального сервера архивирования).
</p>
<h2><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.B8_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D1.8B"><span class="mw-headline-number">4</span> Конфигурация и настройка программы</span></h2>
<p>Как можно видеть в разделе выше, OpenSCADA предоставляет возможность конфигурации для исполнения в различных ролях. Поддержка этой возможности обеспечивается развитыми механизмами конфигурации и хранения конфигурационных данных. Данный раздел содержит описание этих механизмов, призванное дать представление о гибкости и разнообразии, позволив тем самым использовать OpenSCADA на 100%.
</p><p>При описании механизмов конфигурации и способов её хранения в этом разделе будет делаться упор на общесистемные механизмы. Особенности конфигурации и использования модулей подсистем OpenSCADA предоставляются в собственной документации этих модулей.
</p><p>В OpenSCADA используется формализованный подход к описанию конфигурационных интерфейсов, основанный на языке XML. Фактически особенности конфигурации компонента программы предоставляется самим компонентом, пронизывая тем самым всю программу, как нервная система организма. В терминах OpenSCADA это называется интерфейсом контроля OpenSCADA (Control interface). На основе интерфейса контроля формируются графические интерфейсы конфигурации пользователя посредством модулей OpenSCADA. Такой подход имеет следующие важные преимущества:
</p>
<ul><li> Масштабируемость. Можно подключать только нужные модули конфигурирования или вообще использовать только удалённые механизмы.</li>
<li> Исключение необходимости обновления конфигураторов с добавлением нового модуля/функции, а также исключение "распухания" конфигуратора, обеспечивающего поддержку всей истории уже ненужных и устаревших модулей/функций.</li>
<li> Простота создания графических интерфейсов конфигурации на различной основе за счёт чёткой формализации.</li>
<li> Предоставляется возможность динамической конфигурации, т.е. конфигурацию можно выполнять непосредственно при работе программы как локально, так и удалённо, непосредственно контролируя результат.</li>
<li> Простая и целевая расширяемость конфигурационного интерфейса, путём добавления полей конфигурации на языке описания интерфейса управления только в компонентах, этого требующих.</li></ul>
<p>В OpenSCADA уже предоставляется три модуля конфигурации на разной основе визуализации. Отметим их и их возможности конфигурации:
</p>
<ul><li> Модуль конфигурации на основе <a class="extiw" href="https://en.wikipedia.org/wiki/Qt_(framework)" title="wikipedia:Qt (framework)">библиотеки графического интерфейса Qt</a> — <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/QTCfg" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>. Предоставляет развитый интерфейс конфигурации, позволяющий управлять как локальной, так и удалёнными станциями в локальной и глобальной сетях, включая безопасное соединение.</li>
<li> Модуль конфигурации на основе динамических WEB-технологий (DHTML) — <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/WebCfgD" title="Special:MyLanguage/Modules/WebCfgD">UI.WebCfgD</a>. Предоставляет развитый интерфейс конфигурации, позволяющий управлять как локальной станцией сервера, так и удалёнными станциями в локальной и глобальной сетях, включая работу по безопасному соединению. Клиентское подключение осуществляется посредством обычного Web-браузера.</li>
<li> Модуль конфигурации на основе статических WEB-технологий (XHTML) — <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/WebCfg" title="Special:MyLanguage/Modules/WebCfg">UI.WebCfg</a>. Предоставляет достаточный интерфейс конфигурации, позволяющий управлять локальной станцией сервера посредством обычного Web-браузера.</li></ul>
<p>Значения конфигурации, изменённые в конфигураторах, а также большинство данных сохраняются в базах данных (БД). Учитывая модульность подсистемы "БД", ими могут быть различные БД. Причём предоставляется возможность хранения различных частей OpenSCADA как в разных БД одного типа, так и в БД разных типов.
</p><p>Кроме БД данные о конфигурации могут содержаться в конфигурационном файле OpenSCADA, а также передаваться посредством параметров командной строки при вызове OpenSCADA. Сохранение конфигурации в конфигурационном файле осуществляется наравне с БД. Типовым именем конфигурационного файла OpenSCADA является /etc/oscada.xml. Формат конфигурационного файла и параметры командной строки рассмотрим в отдельном разделе.
</p><p>Изменение конфигурации того или иного узла устанавливает флаг модификации соответствующего узла, а также активирует кнопки "Загрузить из БД", для загрузки первоначальной конфигурации, и "Сохранить в БД" для сохранения изменений. Признак модификации также поднимается к родительскому узлу, что позволяет осуществлять восстановление-сохранение от корневого узла, хотя реально, при операциях с БД, будут участвовать только модифицированные узлы. <a class="image" href="http://oscada.org/wiki/File:At.png"><img alt="At.png" height="22" src="files/At.png" width="22" /></a> Удаление узла приводит к непосредственному удалению его из хранилища-БД и механизм модификации на эту операцию не распространяется.
</p><p>Многие настройки и конфигурация объектов OpenSCADA, которые исполняются или уже включены, не применяются сразу-же по внесению изменений, поскольку конфигурация читается/применяется обычно только при включении или запуске. Следовательно для применения изменений, в таких случаях, достаточно включить/выключить включенный объект или перезапустить исполняющийся — остановить/запустить. На данный момент большинство настроек, не предусматривающих непосредственного применения, просто недоступны для редактирования.
</p><p>Дальнейшее рассмотрение конфигурации OpenSCADA будет производиться на основе интерфейса конфигуратора <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/QTCfg" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>, однако принципы работы будут полностью соответствовать и остальным конфигураторам, благодаря общности в используемом интерфейсе контроля OpenSCADA.
</p><p>Рассмотрение начнём с конфигурации системных параметров OpenSCADA, которая размещается в шести вкладках корневой страницы станции:
</p>
<ul><li> Вкладка "Станция" содержит основные информационные и конфигурационные поля станции, рис.4a. Перечислим предоставляемые поля и прокомментируем их:
<ul><li> <i>ID</i> — содержит информацию об идентификаторе станции. Указывается параметром командной строки "--station". При загрузке ищется соответствующий идентификатору станции раздел в конфигурационном файле и если не обнаруживается то используется первый доступный.</li>
<li> <i>Имя станции</i> — указывает локализованное имя станции. Указывается параметром командной строки "--statName".</li>
<li> <i>Программа</i> — содержит информацию об имени программы. Обычно это OpenSCADA или имя основанного на OpenSCADA решения.</li>
<li> <i>Версия</i> — содержит информацию о текущей версии программы.</li>
<li> <i>Имя хоста</i> — содержит информацию о имени машины, на которой запущена станция.</li>
<li> <i>Системный пользователь</i> — содержит информацию о пользователе, от имени которого выполняется программа в системе (ОС).</li>
<li> <i>Операционная система</i> — содержит информацию о имени и версии ОС, ядре ОС, на которой исполняется программа.</li>
<li> <i>CPU</i> — содержит оперативную информацию о процессоре, а именно число доступных процессоров/ядер и частота процессора, на которых исполняется программа. Значение частоты проверяется раз в 10 секунд, для X86, и позволяет отслеживать её изменение, например, механизмами управления питанием.</li>
<li> <i>Основной набор процессоров</i> — указывает основной перечень процессоров для использования задачами OpenSCADA. В круглых скобках содержится перечень используемых процессоров на данный момент.</li>
<li> <i>Часы планирования задач</i> — содержит информацию об использованных часах планирования задач и их разрешении на данной ОС. Позволяет сориентироваться с минимальным интервалом времени периодических задач, например, для задач сбора данных.</li>
<li> <i>Внутренняя кодировка</i> — содержит информацию о кодировке, в которой хранятся текстовые сообщения внутри программы.</li>
<li> <i>Конфигурационный файл</i> — содержит информацию о конфигурационном файле, используемом программой. Устанавливается параметром командной строки "--config".</li>
<li> <i>Рабочая директория</i> — указывает на рабочую директорию станции. Используется в относительной адресации объектов на файловой системе, например, файлов БД. Допускает изменение пользователем для сохранения данных системы в другую БД. При этом значение этого поля не сохраняется в БД, а может быть изменено только в секции "WorkDB" конфигурационного файла.</li>
<li> <i>Директория модулей</i> — указывает на директории модулей для OpenSCADA, разделённые ';', которые могут включать шаблоны файлов, в конце (/my/modules/path/lib*.so). Если значение этого поля некорректно, то при запуске программа завершиться с сообщением в консоли о некорректности конфигурации.</li>
<li> <i>Директория иконок</i> — указывает на директорию, содержащую иконки программы. Если в дереве навигации конфигуратора отсутствуют иконки, то Вы неправильно указали значение этого поля.</li>
<li> <i>Директория документов</i> — указывает на директорию, содержащую документы программы. Если Вы не можете вызвать локальные документы то Вы неправильно указали значение этого поля или документация не установлена.</li>
<li> <i>Рабочая БД</i> — указывает на рабочую базу данных (БД), а именно на БД, используемую для хранения основных данных программы. Изменение этого поля отмечает все объекты программы как модифицированные, что позволяет сохранить или загрузить данные станции из указанной основной БД.</li>
<li> <i>Сохранять систему при выходе</i> — указывает на необходимость сохранения изменённых данных при завершении работы программы.</li>
<li> <i>Период сохранения системы</i> — указывает на периодичность в секундах, с которой сохранять изменённые данные станции.</li>
<li> <i>Язык</i> — указывает на язык сообщений программы. Изменение этого поля допустимо, однако приводит к изменению языка сообщений только для интерфейса и динамических сообщений!</li>
<li> <i>Сообщения</i> — раздел группы параметров, управляющих работой с сообщениями станции:
<ul><li> <i>Наименьший уровень</i> — указывает на уровень сообщений, начиная с которого система будет их обрабатывать. Сообщения ниже этого уровня будут игнорироваться. Уровень "Отладка (0)" имеет особый смысл, а именно, при установке, будет включена генерация отладочных сообщений различными частями системы. Контролировать генерацию отладочных сообщений частями системы можно во вкладке "Отладка" (рис.4d).</li>
<li> <i>В системный логер(syslog)</i> — указывает на необходимость направления сообщений в системный логер, механизм ОС для работы с сообщениями системы и ПО. При включении этого параметра появляется возможность управлять и контролировать сообщения OpenSCADA механизмами ОС.</li>
<li> <i>На стандартный выход(stdout)</i> — указывает на использование, в качестве вывода сообщения, стандартного механизмы вывода в консоль. Выключение этого свойства исключит весь вывод в консоль, если не указан следующий параметр.</li>
<li> <i>На стандартный выход ошибок(stderr)</i> — указывает на использование в качестве вывода сообщения стандартного механизмы вывода ошибок, обычно тоже направляется в консоль.</li>
<li> <i>В архив</i> — указывает на необходимость вывода сообщений в архив сообщений OpenSCADA. Этот параметр обычно включен, а его выключение приводит к фактическому отключению архивирования сообщений на станции.</li></ul></li></ul></li>
<li> Вкладка "Подсистемы" содержит список подсистем (рис.4b) и позволяет выполнять прямые переходы к ним с помощью контекстного меню.</li>
<li> Вкладка "Резервирование" (рис.4с) содержит конфигурацию резервирования станции в составе настроек:
<ul><li> <i>Статус</i> — содержит информацию о работе схемы резервирования. На данный момент это время, затраченное на исполнения одного цикла задачи обслуживания резерва.</li>
<li> <i>Уровень станции</i> — указывает уровень данной станции в схеме резервирования (0-255).</li>
<li> <i>Период задачи резервирования</i> — указывает периодичность исполнения задачи резервирования, в секундах, (1-255).</li>
<li> <i>Интервал времени восстановления соединения</i> — указывает через какой интервал времени осуществлять попытку восстановления соединения с потерянной резервной станцией, в секундах, (0-255).</li>
<li> <i>Передача локальных первичных команд</i> — включает передачу локальных первичных команд резервным станциям для автоматической синхронизации локальных изменений.</li>
<li> <i>Станции</i> — содержит таблицу с информацией о резервных станциях. Станции можно добавлять и удалять посредством контекстного меню. Идентификатор добавленных станций нужно выбрать <a href="#.D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22">из списка доступных системных станций OpenSCADA</a>. Наличие в таблице хотя-бы одной станции включает резервирование в целом и открывает доступ к страницам конфигурации резервирования на уровне подсистем, если подсистема поддерживает резервирование. Таблица предоставляет следующую информацию о станции:
<ul><li> <i>ID</i> — идентификатор системной станции OpenSCADA, должен быть изменён после добавления путём выбора из перечня доступных;</li>
<li> <i>Имя</i> — имя системной станции OpenSCADA;</li>
<li> <i>Жив</i> — признак наличия связи с резервной станцией;</li>
<li> <i>Уровень</i> — уровень удалённой станции в схеме резервирования;</li>
<li> <i>Счётчик</i> — счётчик запросов к резервной станции или времени ожидания восстановления, в случае отсутствия связи.</li></ul></li>
<li> <i>Переход к конфигурации перечня удалённых станций</i> — команда для перехода на страницу конфигурации удалённых OpenSCADA станций, в подсистеме "Транспорты".</li></ul></li>
<li> Вкладка "Задачи" содержит таблицу со списком задач открытых различными компонентами OpenSCADA (рис.4d). Из таблицы можно получит различную информацию о задачах, а также назначить процессора для задач, на многопроцессорных системах.</li>
<li> Вкладка "Отладка" содержит элементы контроля за отладкой (рис.4e) и активируется при выборе уровня сообщений "Отладка (0)" или при использовании счётчиков объектов.</li>
<li> Вкладка "Переводы" содержит элементы менеджера централизованного перевода текстовых сообщений системы (рис.4f) и активируется при включении многоязыкового режима, установкой базового языка текстовых переменных. Элементы менеджера переводов:
<ul><li> <i>Базовый язык текстовых переменных</i> — используется для включения режима поддержки многоязыковых текстовых переменных путём указания непустого базового языка. Значение базового языка выбирается из списка двухсимвольных кодов языков, обычно только текущий и базовый языки в списке. Далее для текстовых переменных на небазовом языке в таблицах БД будут создаваться отдельные колонки. Под текстовыми переменными подразумеваются все текстовые поля конфигуратора, которые могут быть переведены на другой язык. Числа и другие символьные значения к их числу не относятся и не переводятся.</li>
<li> <i>Динамический перевод</i> — текущее и запланированное состояние динамического перевода текстовых сообщений. Динамический перевод текстовых сообщений вызывает включение кеша переводов текстовых сообщений и запроса переводов из БД для языков частей OpenSCADA, в значительной степени для многоязыковых динамических пользовательских интерфейсов когда пользователь имеет собственный-предпочтительный язык.</li>
<li> <i>Включение менеджера</i> — включение менеджера переводов. Вызывает перезагрузку системы для формирования индекса встроенных переводов, что однако не приводит к формированию полного индекса сообщений в виду запрета перезагрузки ряда объектов в момент их исполнения. Для загрузки полного индекса сообщений необходимо сохранить менеджер во включенном режиме и перезапустить OpenSCADA. В процессе следующего запуска сформируется полный индекс сообщений.</li>
<li> <i>Языки</i> — перечень языков переводов от базового, управляемые менеджером. Если для указанного языка в источнике присутствуют переводы то колонка языка будет их содержать иначе будет пуста.</li>
<li> <i>Фильтр источника</i> — фильтр сообщений по подстроке в источнике.</li>
<li> <i>Проверять несовпадения</i> — переключает проверку и индикацию на различие переводов сообщения в разных местах, на что необходимо больше времени.</li>
<li> <i>Сообщения</i> — непосредственно таблица сообщений с колонками: базовый язык, выбранные языки перевода, источники сообщения. Для модификации доступны колонки языков в результате чего изменения будут внесены в источники сообщения.</li></ul></li></ul>
<p>Для модификации полей этой страницы могут потребоваться права привилегированного пользователя. Получить такие права можно, включив вашего пользователя в группу суперпользователя "root", или, войдя на станцию от имени суперпользователя "root".
</p><p>Нужно отметить ещё один важный момент! Поля идентификаторов всех объектов OpenSCADA недопустимы для прямого редактирования, поскольку являются ключом для хранения данных объектов в БД. Однако поменять идентификатор объекта можно с помощью команды переноса и последующей вставки объекта (Cut-&gt;Paste) в конфигураторе.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:950px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_st_ru.png"><img class="thumbimage" height="744" src="files/QTCfg_sys_st_ru.png" width="948" /></a>  <div class="thumbcaption">Рис. 4a. Вкладка "Станция" корневой страницы конфигурации станции.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:761px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_sub_ru.png"><img class="thumbimage" height="454" src="files/QTCfg_sys_sub_ru.png" width="759" /></a>  <div class="thumbcaption">Рис. 4b. Вкладка "Подсистемы" корневой страницы конфигурации станции.</div></div></div></div>
<p>Задача обслуживания механизма резервирования запускается всегда и исполняется с периодичностью, установленной в соответствующем конфигурационном поле. Реальная работа по осуществлению резервирования осуществляется при наличии хотя бы одной резервной станции в списке станций и предполагает:
</p>
<ul><li> Контроль за соединением с внешними станциями. В процессе контроля осуществляются запросы к удалённым станциям за обновлением информации о них и проверки связи. В случае потери связи со станцией повтор подключения к ней осуществляется через промежуток времени, указанный в конфигурационном поле интервала времени восстановления соединения. В поле "Жив" станции отображается текущее состояние связи. В поле "Счётчик" представлено количество запросов, осуществлённых к удалённой станции, или же время, оставшееся для осуществления следующей попытки соединения с потерянной станции. В поле "Запущен" приводится перечень активных контроллеров на удалённой станции с признаком локального исполнения.</li>
<li> Локальное планирование исполнения объектов резервирования. Планирование осуществляется в соответствии с уровнями станций и предпочтениями исполнения объектов резервируемых подсистем: контроллеров, архиваторов сообщений.</li>
<li> Вызов функции синхронизации данных для локальных объектов резервируемых подсистем, работающих в режиме синхронизации данных из внешних станций.</li></ul>
<p>Рекомендуется резервирование настраивать таким образом чтобы БД резервных станций сохранялись одинаковыми, что в дальнейшем позволит безболезненно копировать их при восстановлении на любую станцию и соответственно в резервной копии можно хранить только один набор БД. При этом настройки, специфичные для отдельной станции, будут сохраняться в конфигурационном файле и можно будет легко конфигурировать и менять нужную станцию выбором соответствующего конфигурационного файла.
</p><p>Настройка резервирования начинается с добавления резервных станций в список станций OpenSCADA на вкладке "Подсистема" подсистемы "Транспорты" (рис.4.3b). Причём добавлять тут нужно не только резервные станции к текущей, но и саму эту текущую станцию с её внешним адресом, т.е. своеобразная петля. В дальнейшем эти настройки будут сохранены в общую БД резервированной системы, а сама БД с этого момента будет использоваться при создании всех резервных станций. Соответственно важно на этом этапе внести все нужные изменения в общую БД вокруг проекта в целом!
</p><p>Далее на конкретной станции, с копией общей БД, настраиваем её специфические параметры во вкладке "Резервирование" главной страницы (рис.4c), которые будут сохранены в конфигурационном файле.
</p><p>После этого вся конфигурация резервирования осуществляется во вкладке "Резервирование" соответствующей подсистемы, "Сбор данных" (рис.4.5b) или "Архивы" (рис.4.6b). Если установить параметр "Передача локальных первичных команд" (рис.4c) то эта конфигурация, как и любая другая конфигурация общего характера, может осуществляться на одной из станций, а внесённые изменения попадут и на все резервные, конечно если они будут доступны.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:795px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_redundancy_ru.png"><img class="thumbimage" height="581" src="files/QTCfg_sys_redundancy_ru.png" width="793" /></a>  <div class="thumbcaption">Рис. 4c. Вкладка "Резервирование" корневой страницы конфигурации станции.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1144px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_tasks_ru.png"><img class="thumbimage" height="717" src="files/QTCfg_sys_tasks_ru.png" width="1142" /></a>  <div class="thumbcaption">Рис. 4d. Вкладка "Задачи" корневой страницы конфигурации станции.</div></div></div></div>
<p>Для отладки различных особенностей работы OpenSCADA может потребоваться включение генерации дополнительных-отладочных сообщений, что осуществляется установкой минимального уровня сообщений, на вкладке "Станция", в "Отладка (0)". В результате этого появится вкладке "Отладка" (рис.4e) где доступны счётчики объектов для контроля за утечками, а также таблица с перечнем категорий поступающий отладочных сообщений. В таблице категорий можно выбрать только те источники отладочных сообщений, которые нужны, тем самым не перегружая подсистему вывода и архивирования сообщений, а так-же не понижая производительность системы в целом. Можно выбирать категории и высших уровней, вплоть до корневой категории системы, что выключит детальный выбор и включит генерацию всех сообщений по уровню или системе. Для изучения отладочных сообщений нужно перейти в подсистему "Архивы" (рис. 4.6c), для чего предусмотрена кнопка "Просмотр сообщений". Выбранный режим отладки и перечень категорий отладки может быть сохранён в конфигурационном файле стандартным образом и при следующем старте режим отладки активируется сразу, что важно в первую очередь для счётчиков объектов.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:865px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_debug_ru.png"><img class="thumbimage" height="602" src="files/QTCfg_sys_debug_ru.png" width="863" /></a>  <div class="thumbcaption">Рис. 4e. Вкладка "Отладка" корневой страницы конфигурации станции.</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1228px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_sys_transl_ru.png"><img class="thumbimage" height="717" src="files/QTCfg_sys_transl_ru.png" width="1226" /></a>  <div class="thumbcaption">Рис. 4f. Вкладка "Переводы" корневой страницы конфигурации станции.</div></div></div></div>
<p>При рассмотрении страниц конфигурации модульных подсистем будут описаны общие для всех модулей свойства. Однако нужно отметить, что каждый модуль может предоставлять как дополнительные вкладки, так и отдельные поля для конфигурации собственных особенностей функционирования для страниц, объекты которых наследуются модулями. С особенностями и дополнениями модулей можно ознакомиться в отдельной документации на них.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.94.22"><span class="mw-headline-number">4.1</span> Подсистема "БД"</span></h3>
<p>Подсистема является модульной и содержит иерархию объектов изображённую на рис.4.1a. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "БД", содержащая вкладку "Модули". Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы "БД", доступных на станции.
</p><p>Для модификации полей страниц этой подсистемы могут потребоваться права привилегированного пользователя или включение вашего пользователя в группу "БД".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:425px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_db_str_ru.png"><img class="thumbimage" height="320" src="files/Oscada_subsys_db_str_ru.png" width="423" /></a>  <div class="thumbcaption">Рис. 4.1a. Иерархическая структура подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:617px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_ru.png"><img class="thumbimage" height="476" src="files/QTCfg_subsys_db_mod_ru.png" width="615" /></a>  <div class="thumbcaption">Рис. 4.1b. Вкладка "Модули" корневой страницы подсистемы "БД".</div></div></div></div>
<p>Каждый модуль подсистемы "БД" предоставляет конфигурационную страницу с вкладками "БД" и "Модуль". Вкладка "БД" (рис.4.1c) содержит список БД, зарегистрированных в модуле и флажок признака полного удаления БД при выполнении команды удаления. В контекстном меню списка БД предоставляется пользователю возможность добавления, удаления и перехода к нужной БД. Во вкладке "Модуль" содержится информация о модуле подсистемы "БД" (рис.4.1d):
</p>
<ul><li> <i>Модуль</i> — идентификатор модуля.</li>
<li> <i>Имя</i> — имя модуля.</li>
<li> <i>Тип</i> — тип модуля, идентификатор подсистемы, к которой модуль принадлежит.</li>
<li> <i>Источник</i> — разделяемая библиотека — источник данного модуля.</li>
<li> <i>Версия</i> — версия модуля.</li>
<li> <i>Автор</i> — автор модуля.</li>
<li> <i>Описание</i> — краткое описание модуля.</li>
<li> <i>Лицензия</i> — лицензионное соглашение распространения модуля.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:617px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_ru.png"><img class="thumbimage" height="476" src="files/QTCfg_subsys_db_mod_db_ru.png" width="615" /></a>  <div class="thumbcaption">Рис. 4.1c. Вкладка "БД" модуля подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:710px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_module_ru.png"><img class="thumbimage" height="479" src="files/QTCfg_subsys_db_mod_module_ru.png" width="708" /></a>  <div class="thumbcaption">Рис. 4.1d. Вкладка "Модуль" модуля подсистемы "БД".</div></div></div></div>
<p>Каждая БД содержит собственную страницу конфигурации с вкладками "База данных", "Таблицы" и "SQL", в случае поддержки SQL-запросов. Кроме основных операций можно выполнять копирование содержимого БД стандартной функцией копирования объектов в конфигураторе. Операция копирования содержимого БД подразумевает копирование исходной БД в БД назначения, при этом содержимое БД назначения не очищается перед операцией копирования. Копирование содержимого БД производится при условии включения обоих БД, иначе будет выполняться простое копирование объекта БД.
</p><p>Вкладка "База данных" (рис.4.1e) содержит основные настройки БД в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние БД:
<ul><li> <i>Включен</i> — состояние БД "Включен".</li>
<li> <i>Доступные БД</i> — перечень таблиц, которые содержит БД. Контекстным меню данного свойства предоставляется возможность физического удаления таблиц из БД.</li>
<li> <i>Загрузить систему из БД</i> — команда для выполнения загрузки из данной БД. Может использоваться при переносе данных в БД между станциями. Например, можно сохранить участок одной станции в экспортную БД, физически перенести БД на другую станцию, подключить её в этой подсистеме и вызвать данную команду.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — содержит информацию об идентификаторе БД.</li>
<li> <i>Имя</i> — указывает имя БД.</li>
<li> <i>Описание</i> — краткое описание БД и её назначения.</li>
<li> <i>Адрес</i> — адрес БД в специфичном для типа БД (модуля) в формате. Описание формата записи адреса БД, как правило, доступно во всплывающей подсказке этого поля.</li>
<li> <i>Кодовая страница</i> — указывает на кодовую страницу, в которой хранятся и предоставляются текстовые значения БД. Значение кодовой страницы БД в связке с внутренней кодировкой станции используется для прозрачного перекодирования текстовых сообщений при обмене между станцией и БД.</li>
<li> <i>Включать</i> — указывает на состояние "Включен", в которое переводить БД при загрузке.</li></ul></li></ul>
<p>Вкладка "Таблицы" (рис.4.1f) содержит список открытых таблиц. При нормальной работе программы эта вкладка пуста, поскольку после завершения работы с таблицами программа их закрывает. Наличие открытых таблиц говорит о том, что программа сейчас с таблицами работает или таблицы открыты пользователем для изучения их содержимого. В контекстном меню перечня открытых таблиц можно открыть таблицу для изучения (команда "Добавить"), закрыть открытую страницу (команда "Удалить") и перейти к изучению содержимого таблицы.
</p><p>Вкладка "SQL" (рис.4.1g) доступна только для баз данных, поддерживающих SQL-запросы, и содержит поле ввода запроса, кнопку отправки запроса и таблицу с результатом запроса. Для управления контекстом транзакции запроса предусмотрено отдельное конфигурационное поле.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:743px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_db_ru.png"><img class="thumbimage" height="719" src="files/QTCfg_subsys_db_mod_db_db_ru.png" width="741" /></a>  <div class="thumbcaption">Рис. 4.1e. Вкладка "База данных" БД модуля подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:743px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_tbl_ru.png"><img class="thumbimage" height="728" src="files/QTCfg_subsys_db_mod_db_tbl_ru.png" width="741" /></a>  <div class="thumbcaption">Рис. 4.1f. Вкладка "Таблицы" БД модуля подсистемы "БД".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1016px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_sql_ru.png"><img class="thumbimage" height="736" src="files/QTCfg_subsys_db_mod_db_sql_ru.png" width="1014" /></a>  <div class="thumbcaption">Рис. 4.1g. Вкладка "SQL" БД модуля подсистемы "БД".</div></div></div></div>
<p>Страница изучения содержимого таблицы содержит только одну вкладку "Таблица". Вкладка "Таблица" (рис.4.1h) содержит поле имени таблицы и таблицу с содержимым. Таблицей содержимого предоставляются функции:
</p>
<ul><li> редактирование содержимого ячеек таблицы;</li>
<li> добавление записи (строки);</li>
<li> удаление записи (строки).</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1048px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_db_mod_db_tbl_tbl_ru.png"><img class="thumbimage" height="725" src="files/QTCfg_subsys_db_mod_db_tbl_tbl_ru.png" width="1046" /></a>  <div class="thumbcaption">Рис. 4.1h. Вкладка "Таблица" таблицы БД модуля подсистемы "БД".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.91.D0.B5.D0.B7.D0.BE.D0.BF.D0.B0.D1.81.D0.BD.D0.BE.D1.81.D1.82.D1.8C.22"><span class="mw-headline-number">4.2</span> Подсистема "Безопасность"</span></h3>
<p>Подсистема не является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Безопасность", содержащая вкладку "Пользователи и группы пользователей". Вкладка "Пользователи и группы пользователей" (рис.4.2a) содержит списки пользователей и групп пользователей. Пользователь в группе "Security" и с правами привилегированного пользователя может добавить, удалить пользователя или группу пользователей. Все остальные пользователи могут перейти к странице пользователя или группы пользователя.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:626px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_sec_ru.png"><img class="thumbimage" height="511" src="files/QTCfg_subsys_sec_ru.png" width="624" /></a>  <div class="thumbcaption">Рис. 4.2a. Вкладка "Пользователи и группы пользователей" корневой страницы подсистемы "Безопасность".</div></div></div></div>
<p>Для конфигурации пользователя предоставляется страница, содержащая только вкладку "Пользователь" (рис.4.2b). Вкладка содержит конфигурационные данные профиля пользователя, которые может изменять сам пользователь, пользователь в группе "Security" или привилегированный пользователь:
</p>
<ul><li> <i>Имя</i> — информация об имени (идентификаторе) пользователя.</li>
<li> <i>Полное имя</i> — указывает на полное имя пользователя.</li>
<li> <i>Описание</i> — описание и произвольная информация о пользователе.</li>
<li> <i>Пароль</i> — поле для изменения пароля пользователя. Всегда отображает "*'<b><i>*".</i></b></li>
<li> <i>Язык</i> — язык пользователя для контекста динамических сообщений и синтеза речи пользовательского интерфейса. Пусто для системного языка.</li>
<li> <i>Изображение пользователя</i> — указывает изображение пользователя. Изображение может быть загружено или выгружено.</li>
<li> <i>Группы пользователей</i> — таблица с перечнем групп пользователей и признаком принадлежности пользователя к группам.</li>
<li> <i>БД пользователя</i> — адрес БД для хранения данных пользователя.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:685px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_sec_user_ru.png"><img class="thumbimage" height="717" src="files/QTCfg_subsys_sec_user_ru.png" width="683" /></a>  <div class="thumbcaption">Рис. 4.2b. Вкладка "Пользователь" страницы пользователя подсистемы "Безопасность".</div></div></div></div>
<p>Для конфигурации группы пользователей предоставляется страница, содержащая только вкладку "Группа" (рис.4.2c). Вкладка содержит конфигурационные данные профиля группы пользователей, которые может изменять только привилегированный пользователь:
</p>
<ul><li> <i>Имя</i> — информация об имени (идентификаторе) группы пользователей.</li>
<li> <i>Полное имя</i> — указывает на полное имя группы пользователей.</li>
<li> <i>Описание</i> — описание и произвольная информация о группе пользователей.</li>
<li> <i>Пользователи</i> — список пользователей, включенных в данную группу. С помощью контекстного меню списка можно добавить или удалить пользователя в группе.</li>
<li> <i>БД группы пользователей</i> — адрес БД для хранения данных группы пользователей.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:685px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_sec_grp_ru.png"><img class="thumbimage" height="565" src="files/QTCfg_subsys_sec_grp_ru.png" width="683" /></a>  <div class="thumbcaption">Рис. 4.2c. Вкладка "Группа" страницы группы пользователей подсистемы "Безопасность".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D1.8B.22"><span class="mw-headline-number">4.3</span> <span id="Transports" title="#Transports">Подсистема "Транспорты"</span></span></h3>
<p>Подсистема является модульной и содержит иерархию объектов, изображённую на рис.4.3a. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Транспорты", содержащая вкладки "Подсистема" и "Модули".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:243px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_tr_str_ru.png"><img class="thumbimage" height="218" src="files/Oscada_subsys_tr_str_ru.png" width="241" /></a>  <div class="thumbcaption">Рис. 4.3a. Иерархическая структура подсистемы "Транспорты".</div></div></div></div>
<p>Вкладка "Подсистема" (рис.4.3b) содержит таблицу конфигурации внешних, для данной, OpenSCADA станций. Внешние станции могут быть системными, пользовательскими или одновременно, что выбирается в соответствующей колонке. Системные внешние станции доступны только привилегированному пользователю и используются компонентами системного назначения, например, механизмом горизонтального резервирования и модулем <a href="Modules/DAQGate.html" title="Special:MyLanguage/Modules/DAQGate">DAQ.DAQGate</a>. Пользовательские внешние станции привязаны к пользователю, который их создавал, а значит список пользовательских внешних станций индивидуален для каждого пользователя. Пользовательские внешние станции используются компонентами графического интерфейса, например: <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/QTCfg" title="Special:MyLanguage/Modules/QTCfg">UI.QTCfg</a>, <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/WebCfgD" title="Special:MyLanguage/Modules/WebCfgD">UI.WebCfgD</a> и <a class="external" href="http://oscada.org/wiki/Special:MyLanguage/Modules/Vision" title="Special:MyLanguage/Modules/Vision">UI.Vision</a>. В таблице внешних станций возможно добавление и удаление записей про станцию, а также их модификация. Каждая запись содержит поля:
</p>
<ul><li> <i>Id</i> — Идентификатор внешней станции.</li>
<li> <i>Имя</i> — Имя внешней станции.</li>
<li> <i>Транспорт</i> — Выбор из списка модуля подсистемы "Транспорты" для использования его в доступе к внешней станции.</li>
<li> <i>Адрес</i> — Адрес внешней станции в формате, специфичном для выбранного в предыдущем поле модуля подсистемы "Транспорты".</li>
<li> <i>Пользователь</i> — Имя/идентификатор пользователя удалённой станции, от имени которого выполнять подключение.</li>
<li> <i>Пароль</i> — Пароль пользователя удалённой станции.</li>
<li> <i>Режим</i> — Режим хоста: "Пользовательский", "Системный", "Пользовательский и Системный".</li>
<li> <i>Уровень поднятия</i> — Уровень поднятия хостов указанного хоста для возможности перенаправления запросов.</li></ul>
<p>Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы "Транспорты" и идентична для всех модульных подсистем.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:885px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_sub_ru.png"><img class="thumbimage" height="446" src="files/QTCfg_subsys_tr_sub_ru.png" width="883" /></a>  <div class="thumbcaption">Рис. 4.3b. Вкладка "Подсистема" корневой страницы подсистемы "Транспорты".</div></div></div></div>
<p>Каждый модуль подсистемы "Транспорты" предоставляет конфигурационную страницу с вкладками "Транспорты" и "Модуль". Вкладка "Транспорты" (рис.4.3c) содержит список входящих и исходящих транспортов, зарегистрированных в модуле. В контекстном меню списков транспортов пользователю предоставляется возможность добавления, удаления и перехода к нужному транспорту. Во вкладке "Модуль" содержится информация о модуле подсистемы "Транспорты" (рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:627px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_ru.png"><img class="thumbimage" height="535" src="files/QTCfg_subsys_tr_mod_tr_ru.png" width="625" /></a>  <div class="thumbcaption">Рис. 4.3c. Вкладка "Транспорты" модуля подсистемы "Транспорты".</div></div></div></div>
<p>Каждый транспорт содержит собственную страницу конфигурации с одной вкладкой "Транспорт". Эта вкладка содержит основные настройки транспорта. Входящий транспорт (рис.4.3d) содержит:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние транспорта:
<ul><li> <i>Статус</i> — информация о текущем состоянии транспорта и статистика его работы.</li>
<li> <i>Выполняется</i> — состояние транспорта "Выполняется".</li>
<li> <i>БД транспорта</i> — адрес БД для хранения данных транспорта.</li>
<li> <i>Активные подключения</i> — список активных и актуальных подключений входного транспорта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе транспорта.</li>
<li> <i>Имя</i> — указывает имя транспорта.</li>
<li> <i>Описание</i> — краткое описание транспорта и его назначения.</li>
<li> <i>Адрес</i> — адрес транспорта в специфичном для типа транспорта (модуля) формате. Описание формата записи адреса транспорта, как правило, доступно во всплывающей подсказке этого поля.</li>
<li> <i>Транспортный протокол</i> — указывает на модуль транспортного протокола (подсистема "Транспортные протоколы"), который должен работать в связке с данным входным транспортом. Т.е. полученные неструктурированные данные этот модуль будет направлять на структуризацию и обработку указанному модулю транспортного протокола.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется", в которое переводить транспорт при загрузке.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:988px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_itr_ru.png"><img class="thumbimage" height="805" src="files/QTCfg_subsys_tr_mod_tr_itr_ru.png" width="986" /></a>  <div class="thumbcaption">Рис. 4.3d. Вкладка "Транспорт" страницы входящего транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<p>Исходящий транспорт (рис.4.3e) содержит:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние транспорта:
<ul><li> <i>Статус</i> — информация о текущем состоянии транспорта и статистика его работы.</li>
<li> <i>Выполняется</i> — состояние транспорта "Выполняется".</li>
<li> <i>БД транспорта</i> — адрес БД для хранения данных транспорта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе транспорта.</li>
<li> <i>Имя</i> — указывает имя транспорта.</li>
<li> <i>Описание</i> — краткое описание транспорта и его назначения.</li>
<li> <i>Адрес</i> — адрес транспорта в специфичном для типа транспорта (модуля) формате. Описание формата записи адреса транспорта, как правило, доступно во всплывающей подсказке этого поля.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется", в которое переводить транспорт при загрузке.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:726px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_otr_ru.png"><img class="thumbimage" height="603" src="files/QTCfg_subsys_tr_mod_tr_otr_ru.png" width="724" /></a>  <div class="thumbcaption">Рис. 4.3e. Вкладка "Транспорт" страницы исходящего транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<p>Исходящий транспорт, в дополнение, предоставляет вкладку формирования пользовательского запроса через данный транспорт (рис.4.3f). Вкладка предназначена для наладки связи, а также для отладки протоколов и содержит:
</p>
<ul><li> <i>Время (мс)</i> — информация о времени, затраченном на запрос и получение ответа.</li>
<li> <i>Режим</i> — указывает режим данных, из списка "Бинарный", "Текст(LF)", "Текст(CR)", "Текст(CR/LF)", в котором будет формироваться запрос и предоставляться ответ. В бинарном режиме данные записываются парами чисел в шестнадцатеричном исчислении, т.е. байтами, разделёнными пробелами.</li>
<li> <i>Ожидать таймаута</i> — признак ожидать таймаута при получении ответа. Многие системы при ответе на различных протоколах (HTTP) могут слать данные ответа несколькими кусками. Без этого флага будет получен и отображён только первый кусок. При установке этого флага будет осуществлено ожидание всех кусков ответа, вплоть до отсутствия данных в течении таймаута дожидания транспорта. </li>
<li> <i>Размер входного буфера, байт</i> — контролирует размер входного буфера или выключает чтение (0) вообще, только запись.</li>
<li> <i>Отправить</i> — команда отправить запрос.</li>
<li> <i>Запрос</i> — содержит запрос в выбранном режиме представления данных.</li>
<li> <i>Ответ</i> — предоставляет ответ в выбранном режиме представления данных.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:825px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_otr_req_ru.png"><img class="thumbimage" height="678" src="files/QTCfg_subsys_tr_mod_tr_otr_req_ru.png" width="823" /></a>  <div class="thumbcaption">Рис. 4.3f. Вкладка "Запрос" страницы исходящего транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<p>Входной и выходной транспорты также содержат вкладку "Лог ВВ" (Рис.4.3g). Вкладка предоставляется для общего контроля, наблюдения и изучения трафика через транспорты и включает поле длины лога и саму текстовую область лога. Для отключения лога Вы можете поле длины лога установить в нуль.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:878px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_tr_mod_tr_log_ru.png"><img class="thumbimage" height="707" src="files/QTCfg_subsys_tr_mod_tr_log_ru.png" width="876" /></a>  <div class="thumbcaption">Рис. 4.3g. Вкладка "Лог ВВ" страницы входящего транспорта модуля подсистемы "Транспорты".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A2.D1.80.D0.B0.D0.BD.D1.81.D0.BF.D0.BE.D1.80.D1.82.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D1.8B.22"><span class="mw-headline-number">4.4</span> Подсистема "Транспортные протоколы"</span></h3>
<p>Подсистема является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Транспортные протоколы", содержащая вкладку "Модули". Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы "Транспортные протоколы" и идентична для всех модульных подсистем.
</p><p>Каждый модуль подсистемы "Транспортные протоколы" предоставляет конфигурационную страницу с одной вкладкой "Модуль". Во вкладке "Модуль" содержится информация о модуле подсистемы "Транспортные протоколы" (рис.4.1d), состав которой идентичен для всех модулей.
</p>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.B1.D0.BE.D1.80_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85.22"><span class="mw-headline-number">4.5</span> Подсистема "Сбор данных"</span></h3>
<p>Подсистема является модульной и содержит иерархию объектов, изображённую на рис.4.5a. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Сбор данных", содержащая вкладки "Резервирование", "Библиотеки шаблонов" и "Модули".
</p><p>Для получения доступа на модификацию объектов этой подсистемы необходимы права пользователя в группе "DAQ" или права привилегированного пользователя.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:294px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_daq_str_ru.png"><img class="thumbimage" height="323" src="files/Oscada_subsys_daq_str_ru.png" width="292" /></a>  <div class="thumbcaption">Рис. 4.5a. Иерархическая структура подсистемы "Сбор данных".</div></div></div></div>
<p>Объектом резервирования подсистемы "Сбор Данных" выступает объект контроллера в рамках которого резервирование данных выполняет функции:
</p>
<ul><li> <b>Резервирование механизма сбора данных</b>. Обычно эта функция реализуется без особых механизмов путём простого запуска параллельных резервных станций с одинаковой конфигурацией и работающих независимо. Однако в случае выполнения станцией функции ПЛК такое поведение недопустимо по причине одновременной выдачи управляющих воздействий и отсутствия синхронизации данных вычислителей.</li>
<li> <b>Компенсация потери данных на время простоя узла</b> за счёт архива резервного. Предусмотрены два механизма компенсации. Первый и основной механизм осуществляет загрузку участков архива из резервной станции в момент запуска станции в целом или отдельных объектов контроллеров. Участок архива запрашивается с момента последней записи в локальном архиве и по текущее время. Глубина запроса при этом ограничивается указанием предельного времени в конфигурации резервирования. Второй, дополняющий механизм, осуществляет заполнение "дыр" в архиве значений, в момент фактического запроса пользователя к этим данным. Такой подход с одной стороны позволяет осуществить прогнозируемую по времени синхронизацию при старте, а с другой стороны фактически исключает потерю данных при условии работы хотя бы одной станции в течение всего рабочего времени.</li>
<li> <b>Распределение нагрузки по сбору данных между узлами</b>. При создании сложных распределённых систем может оказаться важным вопрос прогнозирования и оптимизации общей производительности системы. С учётом таких задач механизм резервирования предусматривает исполнение задач сбора данных отдельных источников (контроллеров OpenSCADA) только на одной станции. При этом задачи остальных станций переходят в режим синхронизации данных с исполняющей станцией. В случае потери связи с исполняющей станцией запускается задача локального сбора данных. Предусмотрена также возможность оптимального распределение нагрузки исполнения задач сбора данных группы контроллеров между станциями.</li>
<li> <b>Оптимизация нагрузки на внешние источники данных</b> за счёт запроса (обмена) данных у внешнего источника только одним узлом. В практике часто встречаются высоко-нагруженные источники данных или интерфейсы доступа к источникам данных, для которых даже сбор данных одной станцией может быть проблемой и потребует снижения периодичности сбора, т.е. качества данных. Механизм резервирования, кроме распределения нагрузки между станциями по описанной выше схеме, позволяет снять дополнительную нагрузку на источник данных и его интерфейсы тем самым повысив качество данных. Запись в атрибуты резервного объекта контроллера приводит к отправке запроса модификации на основной, т.е. через основной.</li>
<li> <b>Предотвращение некоторого отличия данных на разных узлах</b>, связанное с несовпадением моментов времени при независимом сборе данных отдельными узлами, путём получения данных у станции с активным контроллером. В системах высокой отчётности с резервированием должно быть исключено или сведено к минимуму расхождение в данных на разных станциях, что подразумевает реальный сбор данных одной станцией и синхронизацию с этими данными остальных станций.</li></ul>
<p>Вкладка "Резервирование" (рис.4.5b) доступна только если в резерве указана хотя-бы одна станция и содержит конфигурацию резервирования источников данных подсистемы "Сбор данных", в составе настроек:
</p>
<ul><li> <i>Глубина времени восстановления данных</i> — указывает на максимальную глубину архивных данных для восстановления из архива удалённой станции при запуске в часах (0-12).</li>
<li> <i>Контроллеры</i> — содержит таблицу с перечнем контроллеров, доступных для резервирования, и текущее их состояние:
<ul><li> <i>Контроллер</i> — полный идентификатор контроллера;</li>
<li> <i>Имя</i> — имя контроллера;</li>
<li> <i>Запущен</i> — признак исполнения контроллера локальной станцией;</li>
<li> <i>Резервирование</i> — режим резервирования контроллера, может быть выбран из перечня:
<ul><li> "Выключено" — совершенно независимая работа объекта контроллера.</li>
<li> "Асимметрично" — полное резервирование с доступной конфигурацией объекта контроллера удалённой станции и без попыток её обобщать.</li>
<li> "Только нарушения" — фактическая работа без резервирования, но с подавлением нарушений от резервного объекта контроллера с целью исключения дублирующих сообщений о нарушениях.</li></ul></li>
<li> <i>Предпочтение исполнения</i> — конфигурация предпочтительного исполнения на указанной станции, может быть изменён; зарезервированные значения указывают на:
<ul><li> <b>&lt;Высокий уровень&gt;</b> — исполнение на станции с наивысшим уровнем.</li>
<li> <b>&lt;Низкий уровень&gt;</b> — исполнение на станции с самым низким уровнем.</li>
<li> <b>&lt;Оптимально&gt;</b> — выбор для исполнения наименее нагруженной станции.</li></ul></li>
<li> <i>Удалённый</i> — признак, указывающий на исполнение контроллера удалённой станцией и работу локальной станции в режиме синхронизации данных с удалённой.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:996px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_red_ru.png"><img class="thumbimage" height="589" src="files/QTCfg_subsys_daq_red_ru.png" width="994" /></a>  <div class="thumbcaption">Рис. 4.5b. Вкладка "Резервирование" подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Библиотеки шаблонов" (рис.4.5c) содержит список библиотек шаблонов для параметров этой подсистемы. В контекстном меню списка библиотек шаблонов пользователю предоставляется возможность добавления, удаления и перехода к нужной библиотеке. Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы "Транспорты" и идентична для всех модульных подсистем.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:621px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_ru.png"><img class="thumbimage" height="444" src="files/QTCfg_subsys_daq_tmpl_ru.png" width="619" /></a>  <div class="thumbcaption">Рис. 4.5c. Вкладка "Библиотеки шаблонов" подсистемы "Сбор данных".</div></div></div></div>
<p>Каждая библиотека шаблонов подсистемы "Сбор данных" предоставляет конфигурационную страницу с вкладками "Библиотека" и "Шаблоны параметров". Вкладка "Библиотека" (рис.4.5d) содержит основные настройки библиотеки в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние библиотеки:
<ul><li> <i>Доступен</i> — состояние библиотеки "Доступен".</li>
<li> <i>БД библиотеки</i> — адрес БД для хранения данных библиотеки и шаблонов.</li>
<li> <i>Дата модификации</i> — дата и время последней модификации объекта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе библиотеки.</li>
<li> <i>Имя</i> — указывает имя библиотеки.</li>
<li> <i>Описание</i> — краткое описание библиотеки и её назначения.</li></ul></li></ul>
<p>Вкладка "Шаблоны параметров" (рис.4.5e) содержит список шаблонов в библиотеке. В контекстном меню списка пользователю предоставляется возможность добавления, удаления и перехода к нужному шаблону.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:643px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_lib_ru.png"><img class="thumbimage" height="499" src="files/QTCfg_subsys_daq_tmpl_lib_ru.png" width="641" /></a>  <div class="thumbcaption">Рис. 4.5d. Основная вкладка конфигурации библиотеки шаблонов подсистемы "Сбор данных".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:643px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_ls_ru.png"><img class="thumbimage" height="499" src="files/QTCfg_subsys_daq_tmpl_ls_ru.png" width="641" /></a>  <div class="thumbcaption">Рис. 4.5e. Вкладка списка шаблонов в библиотеке шаблонов подсистемы "Сбор данных".</div></div></div></div>
<p>Каждый шаблон библиотеки шаблонов предоставляет конфигурационную страницу с вкладками "Шаблон" и "IO". Вкладка "Шаблон" (рис.4.5f) содержит основные настройки шаблона в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние шаблона:
<ul><li> <i>Доступен</i> — состояние шаблона "Доступен".</li>
<li> <i>Использовано</i> — количество использования шаблона. Позволяет определить факт использования и, как следствие, возможность применения изменений шаблона.</li>
<li> <i>Дата модификации</i> — дата и время последней модификации объекта.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе шаблона.</li>
<li> <i>Имя</i> — указывает имя шаблона.</li>
<li> <i>Описание</i> — краткое описание шаблона и его назначения.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:722px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_tmpl_main_ru.png"><img class="thumbimage" height="515" src="files/QTCfg_subsys_daq_tmpl_tmpl_main_ru.png" width="720" /></a>  <div class="thumbcaption">Рис. 4.5f. Главная вкладка конфигурации шаблона параметров подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "IO" (рис.4.5g) содержит конфигурацию атрибутов (IO) шаблонов и программу шаблона на одном из языков пользовательского программирования OpenSCADA, например, DAQ.JavaLikeCalc.JavaScript. В таблицу атрибутов шаблона пользователь может, посредством контекстного меню, добавить, вставить, удалить, передвинуть вверх или вниз запись атрибута, а также отредактировать поля атрибута:
</p>
<ul><li> <i>Id</i> — идентификатор атрибута.</li>
<li> <i>Имя</i> — имя атрибута.</li>
<li> <i>Тип</i> — выбор типа значения атрибута из списка: "Вещественный", "Целый", "Логический", "Строка", "Текст", "Объект".</li>
<li> <i>Режим</i> — выбор режима из списка: "Вход", "Выход". Обычно используется для указания направления передачи данных посредством связи. Т.е. для значения "Вход" данные по связи будут только получаться, а для "Выход" также будут передаваться, в случае модификации.</li>
<li> <i>Атрибут</i> — режим атрибута параметра, реализованного на основе шаблона из списка: "Не атрибут", "Только для чтения", "Полный доступ". Для атрибутов шаблона, у которых это поле установлено, будет создаваться соответствующий атрибут у параметра контроллера этой подсистемы.</li>
<li> <i>Конфигурация</i> — режим конфигурации атрибута во вкладке конфигурации шаблона у параметра контроллера этой подсистемы из списка: "Переменная", "Константа", "Связь". В режимах "Константа" и "Связь" во вкладке конфигурации шаблона будут добавлены эти атрибуты для установки константы или указания внешней связи параметра.</li>
<li> <i>Значение</i> — значение атрибута по умолчанию или шаблон ссылки для доступа по ссылке. Формат шаблона ссылки зависит от компонента, который его использует. Обычно для модуля <a class="external text" href="http://wiki.oscada.org/Doc/LogicLev" rel="nofollow noreferrer noopener" target="_blank">DAQ.LogicLev</a> шаблон ссылки записывается в виде: <b>{Параметр}|{атрибут}</b>. Поле <b>{Параметр}</b> — указывает имя параметра как контейнера атрибутов. Атрибуты с одинаковым значением <b>{Параметр}</b> будут группироваться и позволят назначаться только указанием контейнера атрибутов, а отдельные атрибуты будут связаны с атрибутами контейнера в соответствии с полем <b>{атрибут}</b>.</li></ul>
<p>С синтаксисом языка программы шаблона можно ознакомиться в документации модуля, предоставляющего интерпретатор выбранного языка. Например, типичным языком пользовательского программирования OpenSCADA является <a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">DAQ.JavaLikeCalc.JavaScript</a>.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1092px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_tmpl_tmpl_io_ru.png"><img class="thumbimage" height="690" src="files/QTCfg_subsys_daq_tmpl_tmpl_io_ru.png" width="1090" /></a>  <div class="thumbcaption">Рис. 4.5g. Вкладка конфигурации атрибутов и программы шаблона подсистемы "Сбор данных".</div></div></div></div>
<p>Каждый модуль подсистемы "Сбор данных" предоставляет конфигурационную страницу с вкладками "Контроллеры" и "Модуль". Вкладка "Контроллеры" (рис.4.5h) содержит список контроллеров, зарегистрированных в модуле. В контекстном меню списка пользователю предоставляется возможность добавления, удаления и перехода к нужному контроллеру. Во вкладке "Модуль" содержится информация о модуле подсистемы "Сбор данных" (рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:681px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_ru.png"><img class="thumbimage" height="490" src="files/QTCfg_subsys_daq_mod_cntr_ru.png" width="679" /></a>  <div class="thumbcaption">Рис. 4.5h. Вкладка "Контроллеры" модуля подсистемы "Сбор данных".</div></div></div></div>
<p>Каждый контроллер содержит собственную страницу конфигурации с вкладками "Контроллер", "Параметры" и "Диагностика".
</p><p>Вкладка "Контроллер" (рис.4.5i) содержит основные настройки. Состав этих настроек может несколько отличаться от одного модуля этой подсистемы к другому, о чём можно узнать в собственной документации модулей. В качестве примера рассмотрим настройки контроллера у модуля контроллера логического уровня <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">DAQ.LogicLev</a>:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние контроллера:
<ul><li> <i>Статус</i> — указывает статус контроллера. В нашем случае контроллер исполняется и время вычисления составляет 446 микросекунд.</li>
<li> <i>Включен</i> — состояние контроллера "Включен". Включенный контроллер предоставляет возможность создания параметров и их конфигурации.</li>
<li> <i>Запущен</i> — состояние контроллера "Запущен". Исполняющийся контроллер выполняет физический сбор данных и/или включает механизмы доступа к этим данным.</li>
<li> <i>БД контроллера</i> — адрес БД для хранения данных контроллера и его параметров.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе контроллера.</li>
<li> <i>Имя</i> — указывает имя контроллера.</li>
<li> <i>Описание</i> — краткое описание контроллера и его назначения.</li>
<li> <i>Включать</i> — указывает на состояние "Включать," в которое переводить контроллер при загрузке.</li>
<li> <i>Запускать</i> — указывает на состояние "Запущен", в которое переводить контроллер при загрузке.</li>
<li> <i>Таблицы параметров</i> — имена таблиц, в которых сохранять параметры, разных типов (имеются в виду объекты параметров сбора данных).</li>
<li> <i>Планирование вычислений</i> — определяет периодический или по расписанию характер вычисления. В нашем примере это секундное вычисления шаблона.</li>
<li> <i>Уровень приоритета задачи получения данных</i> — устанавливает приоритет задачи сбора данных этого контроллера. Используется при планировании задач операционной системой. В случае наличия доступа это поле включает планирование задачи контроллера в режиме реального времени и указанным приоритетом иначе модифицирует параметр "nice" задачи.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:759px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_main_ru.png"><img class="thumbimage" height="585" src="files/QTCfg_subsys_daq_mod_cntr_main_ru.png" width="757" /></a>  <div class="thumbcaption">Рис. 4.5i. Главная вкладка конфигурации контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Параметры" (рис.4.5j) содержит список параметров в контроллере, выбор типа параметров, создаваемых по умолчанию, а также информацию об общем количестве и количестве включенных параметров. В контекстном меню, списка параметров, пользователю предоставляется возможность добавления, удаления и перехода к нужному параметру.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:759px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_ru.png"><img class="thumbimage" height="507" src="files/QTCfg_subsys_daq_mod_cntr_prm_ru.png" width="757" /></a>  <div class="thumbcaption">Рис. 4.5j. Вкладка "Параметры" страницы конфигурации контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Вкладка "Диагностика" (рис.4.5k) содержит форму диагностических сообщений источника данных. Поскольку многие источники данных представляют собой внешние устройства с доступом к данным посредством сетевого обмена или системной шины то возможны различные нештатные ситуации при доступе к данным. Вывод всех их в поле "Статус", объекта контроллера, невозможен поскольку он отображает только текущее состояние доступа к данным. С помощью диагностики можно проследить все нештатные ситуации в виде сообщений, сформированных данным объектом контроллера за указанный промежуток времени и с выбранным уровнем сообщения. Кроме непосредственно рабочей диагностической информации ряд модулей источников данных могут предоставлять здесь различные отладочные дампы обмена, на уровне сообщений "Отладка (0)".
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:935px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_diagn_ru.png"><img class="thumbimage" height="586" src="files/QTCfg_subsys_daq_mod_cntr_diagn_ru.png" width="933" /></a>  <div class="thumbcaption">Рис. 4.5k. Вкладка "Диагностика" страницы конфигурации контроллера подсистемы "Сбор данных".</div></div></div></div>
<p>Параметры контроллеров подсистемы "Сбор данных" предоставляют конфигурационную страницу с вкладками "Параметр", "Атрибуты", "Архивация" и "Конфигурация шаблона". Вкладка "Конфигурация шаблона" не является стандартной, а присутствует только в параметрах модулей подсистемы "Сбор данных", которые реализуют механизмы работы по шаблону в контексте источника данных, ими обслуживаемого, для логического типа. В данный обзор эта вкладка включена для обеспечения логической завершённости обзора конфигурации шаблонов параметров подсистемы "Сбор данных" как финальный этап — использования.
</p><p>Вкладка "Параметр" (рис.4.5l) содержит основные настройки в составе:
</p>
<ul><li> Раздел "Состояние" — содержит свойства, характеризующие состояние параметра:
<ul><li> <i>Тип</i> — указывает тип параметра. Тип выключенного параметра может быть изменён, если доступно несколько типов.</li>
<li> <i>Включен</i> — состояние параметра "Включен". Включенный параметр используется контроллером для сбора данных.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — содержит информацию об идентификаторе параметра.</li>
<li> <i>Имя</i> — указывает имя параметра.</li>
<li> <i>Описание</i> — краткое описание параметра и его назначения.</li>
<li> <i>Включать</i> — указывает на состояние "Включать", в которое переводить параметр при загрузке.</li>
<li> <i>Шаблон параметра</i> — адрес ранее нами рассмотренного шаблона.</li></ul></li></ul>
<p>Вкладка "Атрибуты" (рис.4.5m) содержит атрибуты параметра и их значения в соответствии с конфигурацией используемого шаблона и вычисления его программы.
</p><p>Вкладка "Архивация" (рис.4.5n) содержит таблицу с атрибутами параметра в колонках, и архиваторами в строках. Пользователь имеет возможность установить архивацию нужного атрибута требуемым архиватором просто изменив ячейку на пересечении.
</p><p>Вкладка "Конфигурация шаблона" (рис.4.5o) содержит конфигурационные поля в соответствии с шаблоном. В примере это групповая связь на внешний параметр. Эту связь можно установить, просто указав путь к параметру, если флаг "Показывать только атрибуты" не установлен, или же установить адреса атрибутов по отдельности, если флаг установлен. Знак "(+)", в конце адреса, сигнализирует об успешной линковке и присутствии целевого объекта.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:708px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_main_ru.png"><img class="thumbimage" height="507" src="files/QTCfg_subsys_daq_mod_cntr_prm_main_ru.png" width="706" /></a>  <div class="thumbcaption">Рис. 4.5l. Главная вкладка конфигурации параметра контроллера подсистемы "Сбор данных".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:708px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_attr_ru.png"><img class="thumbimage" height="507" src="files/QTCfg_subsys_daq_mod_cntr_prm_attr_ru.png" width="706" /></a>  <div class="thumbcaption">Рис. 4.5m. Вкладка "Атрибуты" параметра контроллера подсистемы "Сбор данных".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:733px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_arch_ru.png"><img class="thumbimage" height="507" src="files/QTCfg_subsys_daq_mod_cntr_prm_arch_ru.png" width="731" /></a>  <div class="thumbcaption">Рис. 4.5n. Вкладка "Архивация" параметра контроллера подсистемы "Сбор данных".</div></div></div></div>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:733px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_daq_mod_cntr_prm_tmpl_ru.png"><img class="thumbimage" height="507" src="files/QTCfg_subsys_daq_mod_cntr_prm_tmpl_ru.png" width="731" /></a>  <div class="thumbcaption">Рис. 4.5o. Вкладка "Конфигурация шаблона" параметра контроллера подсистемы "Сбор данных".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.90.D1.80.D1.85.D0.B8.D0.B2.D1.8B.22"><span class="mw-headline-number">4.6</span> Подсистема "Архивы"</span></h3>
<p>Подсистема является модульной и содержит иерархию объектов, изображённую на рис.4.6a. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Архивы", содержащая вкладки "Резервирование", "Архив сообщений", "Архивы значений" и "Модули".
</p><p>Для получения доступа на модификацию объектов этой подсистемы необходимы права пользователя в группе "Archive" или права привилегированного пользователя.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:211px;"><a class="image" href="http://oscada.org/wiki/File:Oscada_subsys_arch_str_ru.png"><img class="thumbimage" height="242" src="files/Oscada_subsys_arch_str_ru.png" width="209" /></a>  <div class="thumbcaption">Рис. 4.6a. Иерархическая структура подсистемы "Архивы".</div></div></div></div>
<p>Объектом резервирования подсистемы "Архивы" выступает объект архиватора сообщений в рамках которого резервирование данных выполняет функции:
</p>
<ul><li> <b>Резервирование механизма архивации</b>. Предусматривает обобщение сообщений с резервных станций посредством трёх механизмов:
<ul><li> в основном цикле резервирования резервного архива осуществляется запрос новых сообщений архиватора на основной станции от времени последнего сообщения резервного объекта;</li>
<li> запись сообщений в резервный архиватор приводит к перенаправлению запроса записи на основную станцию, как для новых так и перезаписывающих сообщений (также сообщения записываются локально);</li>
<li> перезапись сообщений в основной архиватор приводит к рассылке этих сообщений всем резервным станциям.</li></ul></li>
<li> <b>Компенсация потери данных на время простоя узла</b> за счёт архива резервного узла. Предусматривает только первичную синхронизацию путём загрузки/перегрузки участков архива из резервной станции, в момент запуска станции в целом. Участок архива запрашивается с момента последней записи в локальном архиве минус значение параметра глубины принудительной перегрузки и по текущее время. Изменённые сообщений на глубину более указанной будут утеряны на запускаемой станции!</li>
<li> <b>Распределение нагрузки по архивации между узлами</b>. При создании сложных распределённых систем может оказаться важным вопрос прогнозирования и оптимизации общей производительности системы. С учётом таких задач механизм резервирования предусматривает исполнение задач архивации отдельных архиваторов только на одной станции. При этом задачи остальных станций переходят в режим синхронизации данных с исполняющей станцией. В случае потери связи с исполняющей станцией запускается задача локальной архивации. Предусмотрена также возможность оптимального распределение нагрузки исполнения задач архивации группы архиваторов между станциями.</li>
<li> <b>Восстановление первичности нарушений</b>. Для сообщений о нарушениях, отрицательный уровень, при записи осуществляется дополнительная обработка для активных нарушений, а именно обеспечивается перезапись только старыми — оригинальными.</li></ul>
<p>Резервирование архиваторов значений не предоставляется прямо ввиду осуществления этого процесса через источники данных и подсистему сбора данных.
</p><p>Вкладка "Резервирование" (рис.4.6b) доступна только если в резерве указана хотя-бы одна станция и содержит конфигурацию резервирования архиваторов сообщений подсистемы "Архивы", в составе настроек:
</p>
<ul><li> <i>Глубина принудительной перезагрузки истории резерва при запуске, в часах.</i> — указывает на глубину запроса сообщений от времени последнего сообщения в локальном архиве. Иногда может быть полезным для перегрузки последних сообщений если они потенциально могут поменяться-дополниться при остановке данной станции.</li>
<li> <i>Архиваторы сообщений</i> — содержит таблицу с перечнем архиваторов сообщений, доступных для резервирования, и текущее их состояние:
<ul><li> <i>Архиватор</i> — полный идентификатор архиватора сообщений;</li>
<li> <i>Имя</i> — имя архиватора;</li>
<li> <i>Запущен</i> — признак исполнения архиватора локальной станцией;</li>
<li> <i>Резервирование</i> — режим резервирования архиватора, включение;</li>
<li> <i>Предпочтение исполнения</i> — конфигурация предпочтительного исполнения на указанной станции, может быть изменён; зарезервированные значения указывают на:
<ul><li> <b>&lt;Высокий уровень&gt;</b> — исполнение на станции с наивысшим уровнем.</li>
<li> <b>&lt;Низкий уровень&gt;</b> — исполнение на станции с самым низким уровнем.</li>
<li> <b>&lt;Оптимально&gt;</b> — выбор для исполнения наименее нагруженной станции.</li></ul></li>
<li> <i>Удалённый</i> — признак, указывающий на исполнение архиватора удалённой станцией и работу локальной станции в режиме синхронизации данных с удалённой.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:939px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_red_ru.png"><img class="thumbimage" height="427" src="files/QTCfg_subsys_arch_red_ru.png" width="937" /></a>  <div class="thumbcaption">Рис. 4.6b. Вкладка "Резервирование" подсистемы "Архивы".</div></div></div></div>
<p>Вкладка "Архив сообщений" (рис.4.6c) содержит конфигурацию архива сообщений и форму запроса сообщений из архива.
</p><p>Конфигурация архива сообщений представлена полями:
</p>
<ul><li> <i>Размер буфера сообщений</i> — указывает на размерность области оперативной памяти зарезервированное на промежуточный буфер сообщений. Сообщения из буфера запрашиваются для просмотра и архивируются архиваторами сообщений.</li>
<li> <i>Период архивирования сообщений (с)</i> — периодичность, с которой архиваторы выбирают сообщения из буфера для их архивирования.</li></ul>
<p>Форма запроса сообщений содержит конфигурационные поля запроса и таблицу результата. Конфигурационные поля запроса:
</p>
<ul><li> <i>Время, размер (сек.) и уровень</i> — указывает время, размер или глубину (в секундах) и минимальный уровень сообщений (более или равный указанному) запроса.</li>
<li> <i>Шаблон категории</i> — указывает категорию запрошенных сообщений. В категории можно указывать элементы выборки по шаблону, а именно символы "*" — для любой подстроки и "?" — для любого символа, а также регулярное выражение заключённое между символами '/' (/mod_(System|LogicLev)/).</li>
<li> <i>Архиваторы</i> — указывает архиваторы сообщений (разделённые символом ';'), для которых обрабатывать запрос. Если значение отсутствует, то запрос будет обработан для буфера и всех архиваторов. Если указано "&lt;buffer&gt;", то запрос будет обработан для буфера сообщений.</li></ul>
<p>Таблица результата содержит строки сообщений с колонками:
</p>
<ul><li> <i>Время</i> — время сообщения.</li>
<li> <i>Категория</i> — категория сообщения.</li>
<li> <i>Уровень</i> — уровень сообщения.</li>
<li> <i>Сообщение</i> — текст сообщения.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1171px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mess_ru.png"><img class="thumbimage" height="629" src="files/QTCfg_subsys_arch_mess_ru.png" width="1169" /></a>  <div class="thumbcaption">Рис. 4.6c. Вкладка "Архив сообщений" подсистемы "Архивы".</div></div></div></div>
<p>Вкладка "Архивы значений" (рис.4.6d) содержит общую конфигурацию архивирования значений и список архивов значений. В контекстном меню списка значений пользователю предоставляется возможность добавления, удаления и перехода к нужному архиву. Общая конфигурация архивирования представлена полями:
</p>
<ul><li> <i>Период получения данных (мс)</i> — указывает периодичность задачи активного архивирования. Фактически, максимальная детализация или минимальный период, активных архивов определяется этим значением.</li>
<li> <i>Уровень приоритета задачи получения данных</i> — устанавливает приоритетность задачи активного архивирования. Используется при планировании задач операционной системой. В случае наличия доступа это поле включает планирование задачи архивирования в режиме реального времени и указанным приоритетом иначе модифицирует параметр "nice" задачи.</li>
<li> <i>Принудительно устанавливать метку времени в текущее время</i> — метка времени значений, полученных при активном архивировании, принудительно устанавливается в текущее время, заменяя время источника данных.</li></ul>
<p>Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы "Архивы" и идентична для всех модульных подсистем.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:764px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_val_ru.png"><img class="thumbimage" height="629" src="files/QTCfg_subsys_arch_val_ru.png" width="762" /></a>  <div class="thumbcaption">Рис. 4.6d. Вкладка "Архивы значений" подсистемы "Архивы".</div></div></div></div>
<p>Архив значений подсистемы "Архивы" предоставляет конфигурационную страницу с вкладками "Архив", "Архиваторы" и "Значения".
</p><p>Вкладка "Архив" (рис.4.6e) содержит основные настройки архива в составе:
</p>
<ul><li> Раздел "Состояние" — Содержит свойства, характеризующие состояние архива:
<ul><li> <i>Выполняется</i> — Состояние архива "Выполняется". Исполняющийся архив собирает данные в буфер и обслуживается архиваторами.</li>
<li> <i>Начало и конец буфера</i> — Время начала и конца значений в буфере.</li>
<li> <i>БД архива</i> — Адрес БД для хранения конфигурации архива.</li></ul></li>
<li> Раздел "Конфигурация" — Непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — Информация об идентификаторе архива.</li>
<li> <i>Имя</i> — Указывает имя архива.</li>
<li> <i>Описание</i> — Краткое описание архива и его назначения.</li>
<li> <i>Запускать</i> — Указывает на состояние "Выполняется", в которое переводить архив при загрузке.</li>
<li> <i>Источник</i> — Указывает на тип и адрес источника. Тип источника указывается из списка: "Пассивный", "Пассивный атрибут параметра" или "Активный атрибут параметра". Пассивный архив не имеет ассоциированного источника значений; данные в такой архив источник передаёт самостоятельно, например, из пользовательских вычислительных процедур посредством внутреннего языка программирования. Типы, с атрибутом параметра в поле адреса, указывают на параметр подсистемы "Сбор данных" как источник. Пассивный атрибут параметра направляет данные в архив самостоятельно с собственным периодом сбора данных. Активный атрибут параметра опрашивается задачей архивирования этой подсистемы. Фактически все источники реальных данных работают в пассивном режиме архивирования поскольку полученные данные сразу помещают в атрибут параметра, иногда по метке времени. А вот вычислители (<a href="Modules/JavaLikeCalc.html" title="Special:MyLanguage/Modules/JavaLikeCalc">DAQ.JavaLikeCalc</a>, <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">DAQ.LogicLev</a>, <a href="Modules/LogicLev.html" title="Special:MyLanguage/Modules/LogicLev">DAQ.BlockCalc</a>) могут работать только в активном режиме архивирования, поскольку данные в атрибуте параметра обновляются только при их непосредственном запросе и берутся из контекста вычисления. В случае с источниками реальных данных, разница между активным и пассивным режимом архивирования определяется тем, что в пассивном режиме источник может помещать данные в архив по метке времени, а в активном режиме метка времени всегда устанавливается в текущее системное время.</li>
<li> <i>Режим объединения данных</i> — Устанавливает режим объединения данных при записи с буфера высокого разрешения (например, 1с) в архиватор низкого разрешения (например, 1мин.), когда в одну точку архиватора попадает несколько значений из буфера (например, 60). Реализованы режимы: "Скользящее среднее", "Один", "Минимум" и "Максимум".</li>
<li> <i>Тип значений</i> — Указывает на тип значений, хранящихся в архиве, из списка: "Логический", "Целый", "Вещественный", "Строка", "Целое16", "Целое32", "Целое64", "Вещ.(Float)" и "Вещ.(Double).</li>
<li> <i>Период буфера (сек)</i> — Указывает на периодичность значений в буфере архива.</li>
<li> <i>Размер буфера (единиц)</i> — Указывает размерность или глубину буфера архива. Размерность обычно устанавливается в пересчёте на 60 сек периодичности задачи архивирования с запасом.</li>
<li> <i>Жесткая сетка времени буфера</i> — Указывает на режим буфера. Режим жёсткой сетки подразумевает резервирование памяти под каждое значение, но без метки времени. Такой режим исключает возможность упаковки смежно-одинаковых значений, но экономит на хранении метки времени. Иначе буфер работает в режиме хранения значения и метки времени и поддерживает упаковку смежно-одинаковых значений.</li>
<li> <i>Высокое разрешение времени буфера</i> — указывает на возможность хранения значений с периодичностью до 1 микросекунды, иначе значения могут храниться с периодичностью до 1 секунды.</li>
<li> <i>Заполнение проходных точек последним значением</i> — в основном проходные значения заполняются EVAL однако иногда периодичность значений источника больше периодичности этого архива и это нормально.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:955px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_va_arch_ru.png"><img class="thumbimage" height="685" src="files/QTCfg_subsys_arch_va_arch_ru.png" width="953" /></a>  <div class="thumbcaption">Рис. 4.6e. Основная вкладка конфигурации архива значений подсистемы "Архивы".</div></div></div></div>
<p>Вкладка "Архиваторы" (рис.4.6f) содержит таблицу с конфигурацией процесса обработки данного архива доступными архиваторами. В строках расположены доступные архиваторы, а в колонках параметры:
</p>
<ul><li> <i>Архиватор</i> — информация об адресе архиватора.</li>
<li> <i>Запущен</i> — информация о состоянии "Запущен" архиватора.</li>
<li> <i>Обработка</i> — признак обработки данного архива архиватором. Поле доступно для модификации пользователем.</li>
<li> <i>Период (c)</i> — информация о периодичности архиватора.</li>
<li> <i>Начало</i> — дата и время начала данных архива в архиваторе.</li>
<li> <i>Конец</i> — дата и время конца данных архива в архиваторе.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:861px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_va_arcs_ru.png"><img class="thumbimage" height="495" src="files/QTCfg_subsys_arch_va_arcs_ru.png" width="859" /></a>  <div class="thumbcaption">Рис. 4.6f. Вкладка "Архиваторы" архива значений подсистемы "Архивы".</div></div></div></div>
<p>Вкладка "Значения" (рис.4.6g) содержит запрос значений в архиве и результат в виде таблицы значений или изображения тренда. Запрос значений содержит поля:
</p>
<ul><li> <i>Время</i> — указывает время запроса. Содержит два поля: поле дата+время и микросекунды.</li>
<li> <i>Размер</i> — указывает размер или глубину запроса в секундах.</li>
<li> <i>Архиватор</i> — указывает архиватор значений для которого обрабатывать запрос. Если значение отсутствует, то запрос будет обработан для буфера и всех архиваторов. Если указано "&lt;buffer&gt;", то запрос будет обработан только для буфера архива.</li>
<li> <i>Показать график</i> — указывает на необходимость представления данных архива в виде графика (тренда), иначе результат представляется в таблице, содержащей только время и значение. В случае установки этого поля формируется и отображается график, кроме того появляются дополнительные конфигурационные поля настройки изображения:
<ul><li> <i>Размер изображения</i> — указывает ширину и высоту формируемого изображения в пикселах.</li>
<li> <i>Шкала значения</i> — указывает нижнюю и верхнюю границу шкалы значения. Если оба значения установлены в 0 или равны, то шкала будет определяться автоматически в зависимости от значений.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:938px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_va_vals_ru.png"><img class="thumbimage" height="588" src="files/QTCfg_subsys_arch_va_vals_ru.png" width="936" /></a>  <div class="thumbcaption">Рис. 4.6g. Вкладка "Значения" архива значений подсистемы "Архивы".</div></div></div></div>
<p>Каждый модуль подсистемы "Архивы" предоставляет конфигурационную страницу с вкладками "Архиваторы" и "Модуль". Вкладка "Архиваторы" (рис.4.6h) содержит списки архиваторов сообщений и значений, зарегистрированных в модуле. В контекстном меню списков пользователю предоставляется возможность добавления, удаления и перехода к нужному контроллеру. Во вкладке "Модуль" содержится информация о модуле подсистемы "Архивы" (рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:676px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_arcs_ru.png"><img class="thumbimage" height="559" src="files/QTCfg_subsys_arch_mod_arcs_ru.png" width="674" /></a>  <div class="thumbcaption">Рис. 4.6h. Вкладка "Архиваторы" модуля подсистемы "Архивы".</div></div></div></div>
<p>Архиваторы сообщений содержат собственную страницу конфигурации с вкладками "Архиватор" и "Сообщения".
</p><p>Вкладка "Архиватор" (рис.4.6i) содержит основные настройки. Состав этих настроек может несколько отличаться от одного модуля этой подсистемы к другому о чём можно узнать в собственной документации модулей. В качестве примера рассмотрим настройки архиватора сообщений у модуля архива на файловую систему <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Arch.FSArch</a>:
</p>
<ul><li> Раздел "Состояние" — содержит свойства характеризующие состояние архиватора:
<ul><li> <i>Выполняется</i> — состояние архиватора "Выполняется". Исполняющийся архиватор обрабатывает буфер архива сообщений и помещает его данные в своё хранилище, а также обслуживает запросы на доступ к данным в хранилище.</li>
<li> <i>БД архиватора</i> — адрес БД для хранения данных архиватора.</li>
<li> <i>Конец</i> — дата+время последних данных в хранилище архиватора.</li>
<li> <i>Начало</i> — дата+время первых данных в хранилище архиватора.</li>
<li> <i>Размер файлов архиватора (кБ)</i> — информация о суммарном размере файлов архиватора с данными.</li>
<li> <i>Время архивирования (мс)</i> — время, затраченное на архивирование данных архива сообщений.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе архиватора.</li>
<li> <i>Имя</i> — указывает имя архиватора.</li>
<li> <i>Описание</i> — краткое описание архиватора и его назначения.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется", в которое переводить архиватор при загрузке.</li>
<li> <i>Категории сообщений</i> — список категорий сообщений, разделённый символом ';'. Сообщения, попавшие под шаблоны или регулярные выражения категорий, будут обрабатываться архиватором. В категории можно указывать элементы выборки по шаблону, а именно символы '*' — для любой подстроки и '?' — для любого символа, а также регулярное выражение заключённое между символами '/' (/mod_(System|LogicLev)/).</li>
<li> <i>Уровень сообщений</i> — указывает на уровень сообщений архиватора. Сообщения с уровнем более или равным указанному обрабатываются архиватором.</li>
<li> <i>Адрес</i> — адрес хранилища в специфичном для типа архиватора (модуля) формате. Описание формата записи адреса архиватора, как правило, доступно во всплывающей подсказке этого поля. В примере это относительный путь к директории хранилища.</li></ul></li>
<li> Раздел "Дополнительные опции" — специализированный для модуля раздел, о содержимом которого, можно ознакомиться в документации на модуль.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:725px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_main_ru.png"><img class="thumbimage" height="624" src="files/QTCfg_subsys_arch_mod_ma_main_ru.png" width="723" /></a>  <div class="thumbcaption">Рис. 4.6i. Главная вкладка конфигурации архиватора сообщений подсистемы "Архивы".</div></div></div></div>
<p>Вкладка "Сообщения" (рис.4.6j) содержит форму запроса сообщений из архива данного архиватора:
</p>
<ul><li> <i>Время, размер (сек.) и уровень</i> — указывает время, размер или глубину (в секундах) и минимальный уровень сообщений (более или равный указанному) запроса.</li>
<li> <i>Шаблон категории</i> — указывает категорию запрошенных сообщений. В категории можно указывать элементы выборки по шаблону, а именно символы '*' — для любой подстроки и '?' — для любого символа, а также регулярное выражение заключённое между символами '/' (/mod_(System|LogicLev)/).</li></ul>
<p>Таблица результата содержит строки сообщений с колонками:
</p>
<ul><li> <i>Время</i> — время сообщения.</li>
<li> <i>Категория</i> — категория сообщения.</li>
<li> <i>Уровень</i> — уровень сообщения.</li>
<li> <i>Сообщение</i> — текст сообщения.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1171px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_ma_mess_ru.png"><img class="thumbimage" height="629" src="files/QTCfg_subsys_arch_mod_ma_mess_ru.png" width="1169" /></a>  <div class="thumbcaption">Рис. 4.6j. Вкладка запроса сообщений "Сообщения" архиватора сообщений подсистемы "Архивы".</div></div></div></div>
<p>Архиваторы значений содержат собственную страницу конфигурации с вкладками "Архиватор" и "Архивы".
</p><p>Вкладка "Архиватор" (рис.4.6k) содержит основные настройки. Состав этих настроек может несколько отличаться от одного модуля этой подсистемы к другому, о чём можно узнать в собственной документации модулей. В качестве примера рассмотрим настройки архиватора значений у модуля архива на файловую систему <a href="Modules/FSArch.html" title="Special:MyLanguage/Modules/FSArch">Arch.FSArch</a>:
</p>
<ul><li> Раздел "Состояние" — содержит свойства характеризующие состояние архиватора:
<ul><li> <i>Выполняется</i> — состояние архиватора "Выполняется". Исполняющийся архиватор обрабатывает буфера архивов значений и помещает их данные в своё хранилище, а также обслуживает запросы на доступ к данным в хранилище.</li>
<li> <i>Время архивирования (мс)</i> — информация о времени затраченном на архивирование данных буферов архивов. Периодичность архивирования указывается в поле "Период архивирования" раздела "Конфигурация" этой вкладки.</li>
<li> <i>БД архиватора</i> — адрес БД для хранения данных архиватора.</li></ul></li>
<li> Раздел "Конфигурация" — непосредственно содержит поля конфигурации:
<ul><li> <i>ID</i> — информация об идентификаторе архиватора.</li>
<li> <i>Имя</i> — указывает имя архиватора.</li>
<li> <i>Описание</i> — краткое описание архиватора и его назначения.</li>
<li> <i>Запускать</i> — указывает на состояние "Выполняется", в которое переводить архиватор при загрузке.</li>
<li> <i>Адрес</i> — адрес хранилища в специфичном для типа архиватора (модуля) формате. Описание формата записи адреса архиватора, как правило, доступно во всплывающей подсказке этого поля. В примере это относительный путь к директории хранилища.</li>
<li> <i>Периодичность значений (сек)</i> — указывает периодичность значений, которые содержаться в хранилище архиватора.</li>
<li> <i>Период архивирования (сек)</i> — указывает периодичность задачи архивирования данных буферов архивов. Размерность буферов архивов во временном выражении должна быть не менее, а лучше несколько больше, периодичности задачи архивирования. Установить нулевой период для отключения использования архиватора в обработке буфера, только прямая запись.</li>
<li> <i>Приоритет выбора</i> — Приоритет выбора архиватора для режима использования источника "Все". Установить в нуль для полного исключения из выбора.</li></ul></li>
<li> Раздел "Дополнительные опции" — специализированный для модуля раздел, о содержимом которого можно ознакомиться в документации на модуль.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:767px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_va_main_ru.png"><img class="thumbimage" height="655" src="files/QTCfg_subsys_arch_mod_va_main_ru.png" width="765" /></a>  <div class="thumbcaption">Рис. 4.6k. Главная вкладка конфигурации архиватора значений подсистемы "Архивы".</div></div></div></div>
<p>Вкладка "Архивы" (рис.4.6l) содержит таблицу с информацией об архивах, обрабатываемых архиватором. В строках таблица содержит архивы, а в колонках информацию:
</p>
<ul><li> <i>Архив</i> — имя архива.</li>
<li> <i>Период (с)</i> — периодичность архива в секундах.</li>
<li> <i>Размер буфера</i> — размерность буфера в единицах.</li>
<li> <i>Размер файлов (Мб)</i> — специфичное для модуля Arch.FSArch поле с информацией о суммарной размерности файлов хранилища архиватора для архива.</li></ul>
<p>В случае с модулем Arch.FSArch в этой вкладке ещё содержится форма экспорта данных архиватора.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:677px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_arch_mod_va_archs_ru.png"><img class="thumbimage" height="612" src="files/QTCfg_subsys_arch_mod_va_archs_ru.png" width="675" /></a>  <div class="thumbcaption">Рис. 4.6l. Вкладка "Архивы" архиватора значений подсистемы "Архивы".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B.22"><span class="mw-headline-number">4.7</span> Подсистема "Пользовательские интерфейсы"</span></h3>
<p>Подсистема является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Пользовательские интерфейсы", содержащая вкладку "Модули". Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы и идентична для всех модульных подсистем.
</p><p>Каждый модуль подсистемы "Пользовательские интерфейсы" предоставляет конфигурационную страницу с вкладками "Пользовательский интерфейс" и "Модуль". Вкладка "Пользовательский интерфейс" (рис.4.7a) предоставляет параметр для контроля за состоянием "Выполняется" модуля, а также разделы конфигурации специализированные для модулей этой подсистемы. Во вкладке "Модуль" содержится информация о модуле подсистемы "Пользовательские интерфейсы" (рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:737px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_ui_mod_ru.png"><img class="thumbimage" height="505" src="files/QTCfg_subsys_ui_mod_ru.png" width="735" /></a>  <div class="thumbcaption">Рис. 4.7a. Вкладка "Пользовательский интерфейс" модуля подсистемы "Пользовательские интерфейсы".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A1.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5.22"><span class="mw-headline-number">4.8</span> Подсистема "Специальные"</span></h3>
<p>Подсистема является модульной. Для конфигурации подсистемы предусмотрена корневая страница подсистемы "Специальные", содержащая вкладку "Модули". Вкладка "Модули" (рис.4.1b) содержит список модулей подсистемы и идентична для всех модульных подсистем.
</p><p>Каждый модуль подсистемы "Специальные" предоставляет конфигурационную страницу с вкладками "Специальный модуль" и "Модуль". Вкладка "Специальный модуль" (рис.4.8a) предоставляет параметр для контроля за состоянием "Выполняется" модуля, а также разделы конфигурации специализированные для модулей этой подсистемы. Во вкладке "Модуль" содержится информация о модуле подсистемы "Специальные" (рис.4.1d), состав которой идентичен для всех модулей.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:655px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_spec_mod_ru.png"><img class="thumbimage" height="535" src="files/QTCfg_subsys_spec_mod_ru.png" width="653" /></a>  <div class="thumbcaption">Рис. 4.8a. Вкладка "Специальный модуль" модуля подсистемы "Специальные".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9F.D0.BE.D0.B4.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.22.D0.A3.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F.D0.BC.D0.B8.22"><span class="mw-headline-number">4.9</span> Подсистема "Управление модулями"</span></h3>
<p>Подсистема не является модульной. Для конфигурации подсистемы предусмотрена страница подсистемы "Управление модулями", содержащая вкладку "Подсистема". Вкладка "Подсистема" (рис.4.9a) содержит основные настройки подсистемы. Состав вкладки "Подсистема":
</p>
<ul><li> <i>Путь к разделяемым библиотекам (модулям)</i> — информация о расположении директории с модулями системы OpenSCADA. Устанавливается параметром <i>&lt;ModDir&gt;</i> станции, конфигурационного файла.</li>
<li> <i>Запрещённые модули</i> — список, разделённый символом ';', модулей, запрещённых для автоматического подключения и обновления. Устанавливается параметром <i>&lt;ModDeny&gt;</i> раздела подсистемы "sub_ModSched" станции конфигурационного файла. Список запрещённых модулей имеет больший приоритет чем разрешённых.</li>
<li> <i>Разрешённые модули</i> — список, разделённый символом ';', модулей, разрешённых для автоматического подключения и обновления. Значение '*' используется для разрешения всех модулей. Устанавливается параметром <i>&lt;ModAllow&gt;</i> раздела подсистемы, sub_ModSched, станции, конфигурационного файла.</li>
<li> <i>Период проверки модулей (сек)</i> — указывает на периодичность проверки модулей на факт их обновления. Модули, допустимые для автоматического подключения и обновления, будут автоматически обновлены.</li>
<li> <i>Проверить модуль сейчас</i> — команда выполнить проверку модулей на факт их обновления. Модули, допустимые для автоматического подключения и обновления, будут автоматически обновлены.</li>
<li> <i>Разделяемые библиотеки (модули)</i> — таблица с перечнем разделяемых библиотек с модулями, обнаруженными OpenSCADA. В строках расположены модули, а в колонках информация о них:
<ul><li> <i>Путь</i> — информация о полном пути к разделяемой библиотеке.</li>
<li> <i>Время</i> — информация о времени последней модификации файла разделяемой библиотеки.</li>
<li> <i>Модули</i> — информация о перечне модулей в разделяемой библиотеке.</li>
<li> <i>Включен</i> — состояние "Включен" разделяемой библиотеки. Привилегированным пользователям предоставляется возможность ручного включения/выключения разделяемых библиотек путём изменения этого поля.</li></ul></li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:1034px;"><a class="image" href="http://oscada.org/wiki/File:QTCfg_subsys_modshed_ru.png"><img class="thumbimage" height="654" src="files/QTCfg_subsys_modshed_ru.png" width="1032" /></a>  <div class="thumbcaption">Рис. 4.9a. Главная вкладка конфигурации подсистемы "Управление модулями".</div></div></div></div>
<h3><span class="mw-headline" id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B9_.D1.84.D0.B0.D0.B9.D0.BB_OpenSCADA_.D0.B8_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D0.BE.D0.B9_.D1.81.D1.82.D1.80.D0.BE.D0.BA.D0.B8_.D0.B2.D1.8B.D0.B7.D0.BE.D0.B2.D0.B0_OpenSCADA"><span class="mw-headline-number">4.10</span> Конфигурационный файл OpenSCADA и параметры командной строки вызова OpenSCADA</span></h3>
<p>Конфигурационный файл OpenSCADA предназначен для хранения системной и общей конфигурации OpenSCADA-станции. Только в конфигурационном файле и через параметры командной строки можно указать часть ключевых системных параметров станции, поэтому знакомство со структурой конфигурационного файла необходимо для специалистов развёртывающих решения на основе OpenSCADA.
</p><p>Называться конфигурационный файл OpenSCADA может по разному, однако принято название oscada.xml и производные от него. Конфигурационный файл обычно указывается, при запуске станции, параметром командной строки "<b>--config=/home/roman/roman/work/OScadaD/etc/oscada_demo.xml</b>". Для удобства вызова создаются скрипты запуска станции с нужным конфигурационным файлом или используется менеджер проектов при запуске скрипта <b>openscada_start</b>. Например скрипт (openscada_demo) используется для вызова демонстрационной станции:
</p>
<pre style="white-space: pre-wrap;">
#!/bin/sh
openscada --config=/etc/oscada_demo.xml $@
</pre>
<p>Если конфигурационный файл не указан то используется стандартный: /etc/oscada.xml.
</p><p>Структурно конфигурационный файл организован на расширяемом языке разметки текста XML. Следовательно требуется жёсткое соблюдение правил синтаксиса XML. Пример образца типового конфигурационного файла OpenSCADA, с узлами конфигурации большинства компонентов OpenASCADA, приведен ниже:
</p>
<pre style="white-space: pre-wrap;">
&lt;?xml version="1.0" encoding="UTF-8"&nbsp;?&gt;
&lt;OpenSCADA&gt;
    &lt;!--
    This is the OpenSCADA configuration file.
    --&gt;
    &lt;station id="AGLKS"&gt;
        &lt;!--
        Describe internal parameters for station.
        The station is OpenSCADA program.
        --&gt;
        &lt;prm id="StName"&gt;AGLKS&lt;/prm&gt;
        &lt;prm id="StName_ru"&gt;АГЛКС&lt;/prm&gt;
        &lt;prm id="StName_uk"&gt;АГЛКС&lt;/prm&gt;
        &lt;prm id="WorkDB"&gt;SQLite.GenDB&lt;/prm&gt;
        &lt;prm id="LogTarget"&gt;10&lt;/prm&gt;
        &lt;prm id="Lang2CodeBase"&gt;en&lt;/prm&gt;
        &lt;prm id="SaveAtExit"&gt;0&lt;/prm&gt;
        &lt;prm id="SavePeriod"&gt;0&lt;/prm&gt;

        &lt;node id="sub_BD"&gt;
            &lt;prm id="SYSStPref"&gt;0&lt;/prm&gt;
            &lt;tbl id="DB"&gt;
                &lt;fld ID="GenDB" TYPE="SQLite" NAME="Generic DB" NAME_ru="Основная БД" NAME_uk="Основна БД" ADDR="St.db" CODEPAGE="UTF-8"/&gt;
            &lt;/tbl&gt;
        &lt;/node&gt;

        &lt;node id="sub_Security"&gt;
            &lt;!--
            &lt;tbl id="Security_user"&gt;
                &lt;fld
                    NAME="root"
                    DESCR="Super user"
                    DESCR_ru="Супер пользователь"
                    DESCR_uk="Супер користувач"
                    PASS="openscada"/&gt;
                &lt;fld
                    NAME="user"
                    DESCR="System user"
                    DESCR_ru="Системный пользователь"
                    DESCR_uk="Системний користувач"
                    PASS=""/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Security_grp"&gt;
                &lt;fld
                    NAME="root"
                    DESCR="Super users groups"
                    DESCR_ru="Группа суперпользователей"
                    DESCR_uk="Група суперкористувачів"
                    USERS="root;user"/&gt;
            &lt;/tbl&gt;--&gt;
        &lt;/node&gt;

        &lt;node id="sub_ModSched"&gt;
            &lt;prm id="ModAllow"&gt;*&lt;/prm&gt;
            &lt;prm id="ModDeny"&gt;&lt;/prm&gt;
            &lt;prm id="ChkPer"&gt;0&lt;/prm&gt;
        &lt;/node&gt;

        &lt;node id="sub_Transport"&gt;
            &lt;!--
            &lt;tbl id="Transport_in"&gt;
                &lt;fld
                    ID="WEB_1"
                    MODULE="Sockets"
                    NAME="Generic WEB interface"
                    NAME_ru="Основной WEB интерфейс"
                    NAME_uk="Основний WEB інтерфейс"
                    DESCRIPT="Generic transport for WEB interface."
                    DESCRIPT_ru="Основной транспорт для WEB интерфейса."
                    DESCRIPT_uk="Основний транспорт для WEB інтерфейсу."
                    ADDR="TCP::10002:0"
                    PROT="HTTP"
                    START="1"/&gt;
                &lt;fld
                    ID="WEB_2"
                    MODULE="Sockets"
                    NAME="Reserve WEB interface"
                    NAME_ru="Резервный WEB интерфейс"
                    NAME_uk="Резервний WEB інтерфейс"
                    DESCRIPT="Reserve transport for WEB interface."
                    DESCRIPT_ru="Резервный транспорт для WEB интерфейса."
                    DESCRIPT_uk="Резервний транспорт для WEB інтерфейсу."
                    ADDR="TCP::10004:0"
                    PROT="HTTP"
                    START="1"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Transport_out"&gt;
                &lt;fld
                    ID="testModBus"
                    MODULE="Sockets"
                    NAME="Test ModBus"
                    NAME_ru="Тест ModBus"
                    NAME_uk="Тест ModBus"
                    DESCRIPT="Data exchange by protocol ModBus test."
                    DESCRIPT_ru="Тест обмена по протоколу ModBus."
                    DESCRIPT_uk="Тест обміну за протоколом ModBus."
                    ADDR="TCP:localhost:10502"
                    START="1"/&gt;
            &lt;/tbl&gt;--&gt;
        &lt;/node&gt;

        &lt;node id="sub_DAQ"&gt;
            &lt;!--
            &lt;tbl id="tmplib"&gt;
                &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" DB="tmplib_test2"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="tmplib_test2"&gt;
                &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk=""
                    PROGRAM="JavaLikeCalc.JavaScript
cnt=5*i;"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="tmplib_test2_io"&gt;
                &lt;fld TMPL_ID="test2" ID="i" NAME="I" NAME_ru="I" NAME_uk="I" TYPE="4" FLAGS="160" VALUE="" POS="0"/&gt;
                &lt;fld TMPL_ID="test2" ID="cnt" NAME="Cnt" NAME_ru="Cnt" NAME_uk="Cnt" TYPE="4" FLAGS="32" VALUE="" POS="0"/&gt;
            &lt;/tbl&gt;--&gt;

            &lt;node id="mod_LogicLev"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld
                        ID="test2"
                        NAME="Test 2"
                        NAME_ru="Тест 2"
                        NAME_uk="Тест 2"
                        DESCR=""
                        DESCR_ru=""
                        DESCR_uk=""
                        ENABLE="1"
                        START="1"
                        PRM_BD="test2prm"
                        PERIOD="1000"
                        PRIOR="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk=""
                        EN="1" MODE="2" PRM="test2.test2"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_System"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld
                        ID="DataOS"
                        NAME="Data OS"
                        NAME_ru="Даные ОС"
                        NAME_uk="Дані ОС"
                        DESCR="Data of services and subsystems OS."
                        DESCR_ru="Данные сервисов и подсистем ОС."
                        DESCR_uk="Дані сервісів та підсистем ОС."
                        ENABLE="1"
                        START="1"
                        AUTO_FILL="0"
                        PRM_BD="DataOSprm"
                        PERIOD="1000"
                        PRIOR="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="DataOSprm"&gt;
                    &lt;fld SHIFR="CPU" NAME="CPU load" NAME_ru="Нагрузка CPU" NAME_uk="Навантаження CPU" DESCR="" DESCR_ru="" DESCR_uk=""
                        EN="1" TYPE="CPU" SUBT="gen"/&gt;
                    &lt;fld SHIFR="MEM" NAME="Memory" NAME_ru="Память" NAME_uk="Пам'ять" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" TYPE="MEM"/&gt;
                &lt;/tbl&gt;
                --&gt;
            &lt;/node&gt;

            &lt;node id="mod_DiamondBoards"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="Athena" NAME="Athena board" NAME_ru="Плата Athena" NAME_uk="Плата Athena" DESCR="" DESCR_ru="" DESCR_uk=""
                        ENABLE="1" START="0" BOARD="25" PRM_BD_A="AthenaAnPrm" PRM_BD_D="AthenaDigPrm" ADDR="640" INT="5"
                        DIO_CFG="0" ADMODE="0" ADRANGE="0" ADPOLAR="0" ADGAIN="0" ADCONVRATE="1000"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="AthenaAnPrm"&gt;
                    &lt;fld SHIFR="ai0" NAME="AI 0" NAME_ru="AI 0" NAME_uk="AI 0" DESCR="" DESCR_ru="" DESCR_uk="" EN="0" TYPE="0" CNL="0" GAIN="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="AthenaDigPrm"&gt;
                    &lt;fld SHIFR="di0" NAME="DI 0" NAME_ru="DI 0" NAME_uk="DI 0" DESCR="" DESCR_ru="" DESCR_uk="" EN="0" TYPE="0" PORT="0" CNL="0"/&gt;
                &lt;/tbl&gt;
                --&gt;
            &lt;/node&gt;

            &lt;node id="mod_BlockCalc"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="Model" NAME="Model" NAME_ru="Модель" NAME_uk="Модель" DESCR="" DESCR_ru="" DESCR_uk=""
                        ENABLE="1" START="1" PRM_BD="Model_prm" BLOCK_SH="Model_blcks" PERIOD="1000" PRIOR="0" PER_DB="0" ITER="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="Model_blcks"&gt;
                    &lt;fld ID="Klap" NAME="Klapan" NAME_ru="Клапан" NAME_uk="Клапан" DESCR="" DESCR_ru="" DESCR_uk=""
                        FUNC="DAQ.JavaLikeCalc.lib_techApp.klap" EN="1" PROC="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="Model_blcks_io"&gt;
                    &lt;fld BLK_ID="Klap" ID="l_kl1" TLNK="0" LNK="" VAL="50"/&gt;
                    &lt;fld BLK_ID="Klap" ID="l_kl2" TLNK="0" LNK="" VAL="20"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="Model_prm"&gt;
                    &lt;fld SHIFR="l_kl" NAME="Klap lev" NAME_ru="Полож. клапана" NAME_uk="Полож. клапана" DESCR="" DESCR_ru="" DESCR_uk=""
                        EN="1" IO="Klap.l_kl1"/&gt;
                &lt;/tbl&gt;
                --&gt;
            &lt;/node&gt;

            &lt;node id="mod_JavaLikeCalc"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="CalcTest" NAME="Calc Test" NAME_ru="Тест вычисл." NAME_uk="Тест обчисл." DESCR="" DESCR_ru="" DESCR_uk=""
                        ENABLE="1" START="1" PRM_BD="CalcTest_prm" FUNC="TemplFunc.d_alarm" SCHEDULE="1" PRIOR="0" ITER="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="CalcTest_val"&gt;
                    &lt;fld ID="in" VAL="0"/&gt;
                    &lt;fld ID="alrm" VAL=""/&gt;
                    &lt;fld ID="alrm_md" VAL="1"/&gt;
                    &lt;fld ID="alrm_mess" VAL="Error present."/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="CalcTest_prm"&gt;
                    &lt;fld SHIFR="alrm" NAME="Alarm" NAME_ru="Авария" NAME_uk="Аварія" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" FLD="alrm"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="lib"&gt;
                    &lt;fld ID="TemplFunc" NAME="" NAME_ru="" NAME_uk="" DESCR="" ESCR_ru="" DESCR_uk="" DB="lib_TemplFunc"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="lib_TemplFunc"&gt;
                    &lt;fld ID="d_alarm" NAME="Digit alarm" NAME_ru="Авария по дискр." NAME_uk="Аварія за дискр" DESCR=""
                        FORMULA="alrm=(in==alrm_md)?"1:"+alrm_mess:"0";"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="lib_TemplFunc_io"&gt;
                    &lt;fld F_ID="d_alarm" ID="in" NAME="Input" NAME_ru="Вход" NAME_uk="Вхід" TYPE="3" MODE="0" DEF="" HIDE="0" POS="0"/&gt;
                    &lt;fld F_ID="d_alarm" ID="alrm" NAME="Alarm" NAME_ru="Авария" NAME_uk="Аварія" TYPE="0" MODE="1" DEF="" HIDE="0" POS="1"/&gt;
                    &lt;fld F_ID="d_alarm" ID="alrm_md" NAME="Alarm mode" NAME_ru="Режим аварии" NAME_uk="Режим аварії"
                        TYPE="3" MODE="0" DEF="" HIDE="0" POS="2"/&gt;
                    &lt;fld F_ID="d_alarm" ID="alrm_mess" NAME="Alarm message" NAME_ru="Сообщ. аварии" NAME_uk="Повід. аварії"
                        TYPE="0" MODE="0" DEF="" HIDE="0" POS="3"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_Siemens"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1000" PRIOR="0" CIF_DEV="0" ADDR="5" ASINC_WR="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" TMPL="S7.ai_man"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_SNMP"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk=""
                        ENABLE="1" START="1" PRM_BD="test2prm" PERIOD="1000" PRIOR="0" ADDR="localhost" COMM="public" PATTR_LIM="20"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" OID_LS="system"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_ModBus"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1000" PRIOR="0" TRANSP="Sockets" ADDR="exlar.diya.org" NODE="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1"
                        ATTR_LS="321:0:tst:Test"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_DAQGate"&gt;
                &lt;!--
                &lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1000" PRIOR="0" SYNCPER="60" STATIONS="loop" CNTRPRM="System.AutoDA"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_DCON"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1" PRIOR="0" ADDR="" REQ_TRY="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" MOD_TP="0"
                        MOD_ADDR="1" CRC_CTRL="1"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_ICP_DAS"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" PERIOD="1" PRIOR="0" BUS="1" BAUD="115200" LP_PRMS="" REQ_TRY="3"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1"
                        MOD_TP="552985" MOD_ADDR="0" MOD_SLOT="1" MOD_PRMS="0"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_OPC_UA"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" SCHEDULE="1" PRIOR="0" SYNCPER="60" ADDR="" EndPoint="opc.tcp://localhost:4841" SecPolicy="None"
                        SecMessMode="1" Cert="" PvKey="" AttrsLimit="100"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" ND_LS=""/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;

            &lt;node id="mod_SoundCard"&gt;
                &lt;!--&lt;tbl id="DAQ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" ENABLE="1" START="1"
                        PRM_BD="test2prm" CARD="" SMPL_RATE="8000" SMPL_TYPE="1"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="test2prm"&gt;
                    &lt;fld SHIFR="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" EN="1" CHANNEL="0"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;
        &lt;/node&gt;

        &lt;node id="sub_Archive"&gt;
            &lt;prm id="MessBufSize"&gt;1000&lt;/prm&gt;
            &lt;prm id="MessPeriod"&gt;5&lt;/prm&gt;
            &lt;prm id="ValPeriod"&gt;1000&lt;/prm&gt;
            &lt;prm id="ValPriority"&gt;10&lt;/prm&gt;
            &lt;!--
            &lt;tbl id="Archive_mess_proc"&gt;
                &lt;fld
                    ID="StatErrors"
                    MODUL="FSArch"
                    NAME="Errors"
                    NAME_ru="Ошибки"
                    NAME_uk="Помилки"
                    DESCR="Local errors' archive"
                    DESCR_ru="Архив локальных ощибок"
                    DESCR_uk="Архів локальних помилок"
                    START="1"
                    CATEG="/DemoStation*"
                    LEVEL="4"
                    ADDR="ARCHIVES/MESS/stError/"/&gt;
                &lt;fld
                    ID="NetRequsts"
                    MODUL="FSArch"
                    NAME="Net requests"
                    NAME_ru="Сетевые запросы"
                    NAME_uk="Мережеві запити"
                    DESCR="Requests to server through transport Sockets."
                    DESCR_ru="Запросы к серверу через транспорт Sockets."
                    DESCR_uk="Запити до сервера через транспорт Sockets."
                    START="1"
                    CATEG="/DemoStation/Transport/Sockets*"
                    LEVEL="1"
                    ADDR="ARCHIVES/MESS/Net/"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Archive_val_proc"&gt;
                &lt;fld
                    ID="1h"
                    MODUL="FSArch"
                    NAME="1hour"
                    NAME_ru="1час"
                    NAME_uk="1год"
                    DESCR="Averaging for hour"
                    DESCR_ru="Усреднение за час"
                    DESCR_uk="Усереднення за годину"
                    START="1"
                    ADDR="ARCHIVES/VAL/1h/"
                    V_PER="360"
                    A_PER="60"/&gt;
            &lt;/tbl&gt;
            &lt;tbl id="Archive_val"&gt;
                &lt;fld
                    ID="test1"
                    NAME="Test 1"
                    NAME_ru="Тест 1"
                    NAME_uk="Тест 1"
                    DESCR="Test 1"
                    DESCR_ru="Тест 1"
                    DESCR_uk="Тест 1"
                    START="1"
                    VTYPE="1"
                    BPER="1"
                    BSIZE="200"
                    BHGRD="1"
                    BHRES="0"
                    SrcMode="0"
                    Source=""
                    ArchS=""/&gt;
            &lt;/tbl&gt;--&gt;
        &lt;/node&gt;

        &lt;node id="sub_Protocol"&gt;
        &lt;/node&gt;

        &lt;node id="sub_UI"&gt;
            &lt;node id="mod_QTStarter"&gt;
                &lt;prm id="StartMod"&gt;QTCfg&lt;/prm&gt;
            &lt;/node&gt;
            &lt;node id="mod_WebCfg"&gt;
                &lt;prm id="SessTimeLife"&gt;20&lt;/prm&gt;
            &lt;/node&gt;
            &lt;node id="mod_VCAEngine"&gt;
                &lt;!--
                &lt;tbl id="LIB"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk=""
                        DB_TBL="wlib_test2" ICO="" USER="root" GRP="UI" PERMIT="436"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="wlib_test2"&gt;
                    &lt;fld ID="test2" ICO="" PARENT="/wlb_originals/wdg_Box" PROC="" PROC_ru="" PROC_uk="" PROC_PER="-1"
                        USER="root" GRP="UI" PERMIT="436"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="wlib_test2_io"&gt;
                    &lt;fld IDW="test2" ID="name" IO_VAL="Test 2" IO_VAL_ru="Тест 2" IO_VAL_uk="Тест 2" SELF_FLG=""
                        CFG_TMPL="" CFG_TMPL_ru="" CFG_TMPL_uk="" CFG_VAL=""/&gt;
                    &lt;fld IDW="test2" ID="dscr" IO_VAL="Test module 2" IO_VAL_ru="Тест модуля 2" IO_VAL_uk="Тест модуля 2" SELF_FLG=""
                        CFG_TMPL="" CFG_TMPL_ru="" CFG_TMPL_uk="" CFG_VAL=""/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="PRJ"&gt;
                    &lt;fld ID="test2" NAME="Test 2" NAME_ru="Тест 2" NAME_uk="Тест 2" DESCR="" DESCR_ru="" DESCR_uk="" DB_TBL="prj_test2"
                        ICO="" USER="root" GRP="UI" PERMIT="436"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="prj_test2"&gt;
                    &lt;fld OWNER="/test2" ID="pg1" ICO="" PARENT="/wlb_originals/wdg_Box" PROC="" PROC_ru="" PROC_uk="" PROC_PER="-1"
                        USER="root" GRP="UI" PERMIT="436" FLGS="1"/&gt;
                    &lt;fld OWNER="/test2/pg1" ID="pg2" ICO="" PARENT="/wlb_originals/wdg_Box" PROC="" PROC_ru="" PROC_uk="" PROC_PER="-1"
                        USER="root" GRP="UI" PERMIT="436" FLGS="0"/&gt;
                &lt;/tbl&gt;
                &lt;tbl id="prj_test2_incl"&gt;
                    &lt;fld IDW="/prj_test2/pg_pg1" ID="wdg1" PARENT="/wlb_originals/wdg_Box"/&gt;
                &lt;/tbl&gt;--&gt;
            &lt;/node&gt;
        &lt;/node&gt;

        &lt;node id="sub_Special"&gt;
            &lt;node id="mod_SystemTests"&gt;
                &lt;prm id="Param" on="0" per="5" name="LogicLev.experiment.F3"/&gt;
                &lt;prm id="XML" on="0" per="10" file="/etc/oscada.xml"/&gt;
                &lt;prm id="Mess" on="0" per="10" categ="" arhtor="DBArch.test3" depth="10"/&gt;
                &lt;prm id="SOAttach" on="0" per="20" name="../../lib/openscada/daq_LogicLev.so" mode="0" full="1"/&gt;
                &lt;prm id="Val" on="0" per="1" name="LogicLev.experiment.F3.var" arch_len="5" arch_per="1000000"/&gt;
                &lt;prm id="Val" on="0" per="1" name="System.AutoDA.CPULoad.load" arch_len="10" arch_per="1000000"/&gt;
                &lt;prm id="DB" on="0" per="10" type="MySQL" addr="server.diya.org;roman;123456;oscadaTest" table="test" size="1000"/&gt;
                &lt;prm id="DB" on="0" per="10" type="DBF" addr="./DATA/DBF" table="test.dbf" size="1000"/&gt;
                &lt;prm id="DB" on="0" per="10" type="SQLite" addr="./DATA/test.db" table="test" size="1000"/&gt;
                &lt;prm id="DB" on="0" per="10" type="FireBird" addr="server.diya.org:/var/tmp/test.fdb;roman;123456" table="test" size="1000"/&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="TCP:127.0.0.1:10001" type="Sockets" req="time"/&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="UDP:127.0.0.1:10001" type="Sockets" req="time"/&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="UNIX:./oscada" type="Sockets" req="time"/&gt;
                &lt;prm id="TrOut" on="0" per="1" addr="UDP:127.0.0.1:daytime" type="Sockets" req="time"/&gt;
                &lt;prm id="SysContrLang" on="0" per="10" path="/Archive/FSArch/mess_StatErrors/%2fprm%2fst"/&gt;
                &lt;prm id="ValBuf" on="0" per="5"/&gt;
                &lt;prm id="Archive" on="0" per="30" arch="test1" period="1000000"/&gt;
                &lt;prm id="Base64Code" on="0" per="10"/&gt;
            &lt;/node&gt;
        &lt;/node&gt;
  &lt;/station&gt;

&lt;/OpenSCADA&gt;
</pre>
<p>Рассмотрим детальнее структуру конфигурационного файла. Один конфигурационный файл может содержать конфигурацию нескольких станций в секциях <i>&lt;station id="AGLKS"/&gt;</i>. Атрибутом указывается идентификатор станции. Использование той или иной секции станции, при вызове, указывается параметром командной строки <i>--station=AGLKS</i>. Секция станции непосредственно содержит параметры станции и секции подсистем. Параметры конфигурации секции записываются в виде <i>&lt;prm id="StName"&gt;AGLKS&lt;/prm&gt;</i>. Где в атрибуте <i>&lt;id&gt;</i> указывается идентификатор атрибута, а в теле тега указывается значение параметра "AGLKS". Перечень доступных параметров и их описание для станции и всех остальных секций можно получить в консоли, посредством вызова OpenSCADA с параметром --help.
</p><p>Секции подсистем (<i>&lt;node id="sub_DAQ" /&gt;</i>) содержат параметры подсистемы, секции модулей и секции таблиц отражения данных баз данных в конфигурационном файле. Секции модулей (<i>&lt;node id="mod_DiamondBoards" /&gt;</i>) содержат индивидуальные параметры модулей и секции таблиц отражения данных баз данных в конфигурационном файле.
</p><p>Секции таблиц отражения данных баз данных предназначены для размещения в конфигурационном файле записей таблиц БД для компонентов OpenSCADA. Рассмотрим таблицу входящих транспортов "Transport_in" подсистемы транспорты (<i>&lt;node id="sub_Transport"&gt;</i>) из примера конфигурационного файла выше. Таблица содержит две записи с полями: ID, MODULE, NAME, DESCRIPT, ADDR, PROT, START. После загрузки с такой секцией и вообще без БД в подсистеме "Транспорты" модуля "Sockets" появятся два входных транспорта. Форматы структур таблиц основных компонентов включены в демонстрационные конфигурационные файлы. За деталями структуры БД нужно обращаться к документации  соответствующих модулей или просто сохранить объект в конфигурационном файле.
</p><p>Результат вызова команды: <b># ./openscada_AGLKS --help</b>
</p>
<pre style="white-space: pre-wrap;">
***************************************************************************
********** OpenSCADA 0.9 (Linux-3.2.0-4-amd64). *********
***************************************************************************

===========================================================================
======================= Основные опции ====================================
===========================================================================
-h, --help              Информация по опциям системы.
    --config=&lt;файл&gt;     Конфигурационный файл станции.
    --station=&lt;ид&gt;      Идентификатор станции.
    --statName=&lt;имя&gt;    Имя станции.
    --demon, --daemon   Запуск в режиме демона.
    --pidFile=&lt;файл&gt;    файл для помещения ID процесса программы сюда.
    --coreDumpAllow     Установить ограничения для разрешения генерации дампа памяти при крушении программы.
    --messLev=&lt;уров&gt;    Обрабатываемый уровень сообщений (0-7).
    --log=&lt;направл.&gt;    Направление сообщений в, по битовому полю:
                          0x1 - системный логер (syslogd);
                          0x2 - стандартный выход (stdout);
                          0x4 - стандартный выход ошибок (stderr);
                          0x8 - архив сообщений.
-------------- Параметры станции '/' в конфигурационном файле ------------
StName     &lt;имя&gt;        Имя станции.
WorkDB     &lt;Тип.Имя&gt;    Рабочая БД (тип и имя).
WorkDir    &lt;path&gt;       Рабочая директория.
ModDir     &lt;path&gt;       Директория модулей.
IcoDir     &lt;path&gt;       Директория с иконками.
DocDir     &lt;path&gt;       Директория с документами.
MessLev    &lt;уровень&gt;    Обрабатываемый &lt;уровень&gt; сообщений (0-7).
SelDebCats &lt;список&gt;     Список категорий отладки (разделены ';').
LogTarget  &lt;направл.&gt;   Направление сообщений в, по битовому полю:
                          0x1 - системный логер (syslogd);
                          0x2 - стандартный выход (stdout);
                          0x4 - стандартный выход ошибок (stderr);
                          0x8 - архив сообщений.
Lang       &lt;язык&gt;       Рабочий-внутренний язык, вроде "ru_RU.UTF-8".
Lang2CodeBase &lt;язык&gt;    Базовый язык для перевода текстовых переменных, два символа.
MainCPUs   &lt;список&gt;     Основной перечень используемых процессоров (разделены ':').
ClockRT    &lt;false&gt;      Установить для использования REALTIME (иначе MONOTONIC) часов, несколько проблематичное при модификации системных часов.
SaveAtExit &lt;true&gt;       Сохранять систему при выходе.
SavePeriod &lt;сек&gt;        Период сохранения системы.
RdStLevel  &lt;уров&gt;       Уровень текущей станции в схеме резервирования.
RdTaskPer  &lt;c&gt;          Периодичность вызова задачи обслуживания резервирования.
RdRestConnTm &lt;c&gt;        Интервал времени восстановления соединения с "мёртвой" резервной станцией.
RdStList   &lt;список&gt;     Список резервных станций, разделённых символом ';' (st1;st2).
RdPrimCmdTr &lt;0|1&gt;       Включение транзита первичных команд на резервные станции.

=================== Подсистема "Управление модулями" ====================
    --ModPath=&lt;путь&gt;  Путь к модулям (/var/os/modules/).
--------- Параметры секции '/sub_ModSched/' в конфигурационном файле ---------
ModPath  &lt;путь&gt;       Путь к разделяемым библиотекам (модулям).
ModAllow &lt;список&gt;     Список разделяемых библиотек допустимых для автоматической загрузки, подключения и запуска (bd_DBF.so;daq_JavaLikeCalc.so).
                      Использовать значение '*' для разрешения всех модулей.
ModDeny  &lt;список&gt;     Список разделяемых библиотек запрещённых для автоматической загрузки, подключения и запуска (bd_DBF.so;daq_JavaLikeCalc.so).
ChkPer   &lt;сек&gt;        Период поиска новых разделяемых библиотек (модулей).

========================= Опции подсистемы "БД" =========================
-------------- Параметры станции '/sub_BD/' в конфигурационном файле ------------
SYSStPref    &lt;1&gt;   Использовать идентификатор станции в общей (SYS) таблице.

==================== Опции подсистемы "Безопасности" ====================

====================== Опции подсистемы "Транспорты" ====================

============== Опции подсистемы "Транспортные протоколы" ================

======================= Опции модуля &lt;Protocol:HTTP&gt; =============================
------- Параметры модульной секции '/sub_Protocol/mod_HTTP/' в конфигурационном файле ---------
AuthTime &lt;мин&gt;     Время жизни аутентификации, минут (по умолчанию 10).

=================== Опции подсистемы "Сбор данных" ======================
--------------- Параметры секции '/sub_DAQ/' в конфигурационном файле --------------
RdRestDtTm   &lt;час&gt;  Глубина восстановления данных архива из резервной станции, при включении.

==================== Опции подсистемы "Архивы" ======================
---------- Параметры секции '/sub_Archive/' в конфигурационном файле --------
MessBufSize   &lt;ед.&gt;     Размер буфера сообщений.
MessPeriod    &lt;сек&gt;     Период архивирования сообщений.
ValPeriod     &lt;мсек&gt;    Период архивирования значений.
ValPriority   &lt;уровень&gt; Уровень приоритета задачи значений.
RdRestDtOverTm &lt;часы&gt;   Глубина принудительной перезагрузки истории резерва при запуске, в часах.

======================= Опции модуля &lt;Archive:FSArch&gt; =============================
    --noArchLimit        Отключить лимит на количество файлов.
                         Используйте для режима просмотра архивов, не для работы.

===================== Опции подсистемы "Специальные" ====================

========================== Опции модуля &lt;Special:SystemTests&gt; ==========================
-------- Параметры модульной секции '/sub_Special/mod_SystemTests/' в конфигурационном файле --------
Общие опции всех тестов:
  id           идентификатор теста;
  on           флаг включения теста;
  per          период повторения (сек).
       *** Опции тестов ***
1) Param        Тест DAQ параметров. Вычитывает атрибуты и конфигурационные поля параметра.
  1:name        Адрес DAQ параметра
2) XML  Тест разбора файла XML. Разбирает и отображает структуру указанного файла.
  1:file        XML файл
3) Mess Тест архива сообщений. Периодически вычитывает новые сообщения из архива, для указанного архиватора.
  1:arhtor      Архиватор
  2:categ       Шаблон категории сообщения
  3:depth       Глубина сообщения (с)
4) SOAttach     Тест подключения/отключения модулей.
  1:name        Путь к модулю
  2:mode        Режим (1-подключение;-1-отключение;0-изменение)
  3:full        Полное подключение(при старте)
5) Val  Тест значений атрибута параметра.
Выполняет периодический опрос последнего значения указанного атрибута, а также опрос архива на указанную глубину.
  1:name        Путь к атрибуту параметра
  2:arch_len    Глубина запроса к архиву значений (с)
  3:arch_per    Период запроса к архиву значений (мкс)
6) DB   Полный тест БД. Выполняет:
  - создание/открытие БД;
  - создание/открытие таблицы;
  - создание множества записей (строк) предопределённой структуры;
  - модификация множества записей;
  - получение и проверка значений множества записей;
  - модификация структуры записи и таблицы;
  - удаление записей;
  - закрытие/удаление таблицы;
  - закрытие/удаление БД.
  1:type        Тип БД
  2:addr        Адрес БД
  3:table       Таблица БД
  4:size        Количество записей
7) TrOut        Тест выходных и/или входных транспортов.
Выполняет тестирование исходящего транспорта путём отправления запроса к указанному входящему транспорту.
  1:addr        Адрес
  2:type        Модуль транспорта
  3:req Текст запроса
8) SysContrLang Тест языка управления системой.
Производит запрос элементов языка посредством полного пути.
Полный путь к элементу языка имеет вид &lt;/Archive/%2fbd%2fm_per&gt;.
Полный путь состоит из двух вложенных путей.
Первый &lt;/d_Archive/&gt; это путь к узлу дерева контроля.
Второй &lt;/bd/m_per&gt; это путь к конкретному элементу узла.
  1:path        Путь к элементу языка
9) ValBuf       Тесты буфера значений. Содержит 13 тестов всех аспектов буфера значений (подсистема "Архивы").
10) Archive     Тесты размещения в архиве значений.
Содержит 7(8) тестов архиватора значений на проверку корректности функционирования последовательного механизма упаковки.
  1:arch        Архив значений
  2:period      Период значений (мкс)
  3:archtor     Архиватор
11) Base64Code  Тесты кодирования Mime Base64 алгоритмом.

============= Опции подсистемы "Пользовательские интерфейсы" ============

======================== Опции модуля &lt;UI:QTStarter&gt; ============================
------ Отладочные параметры Qt, командной строки --
    --noX11                Предотвращать запуск Qt, в основном для чистой консоли.
    --sync                 Переключение в синхронный режим X11 для отладки.
    --widgetcount          Печать отладочных сообщений при выходе, о количеcтве
                           виджетов оставшихся неудалёнными и максимальном их количестве.
------ Параметры Qt, командной строки -------------
    --qws                  Делает данное приложение сервером с Qt для встраиваемого Linux.
    --style=&lt;имя&gt;          Установить GUI стиль в имя (windows, platinum, plastique, ...).
    --stylesheet=&lt;путь&gt;    Установить таблицу стилей из файла по пути.
    --session=&lt;имя&gt;        Восстановить из предыдущего сеанса с указанным именем.
    --reverse              Установить направление размещения в Qt::RightToLeft.
    --graphicssystem=&lt;имя&gt; Установить механизм рендеринга для экранных виджетов и QPixmaps (raster, opengl).
    --display=&lt;имя&gt;        Установить X экран (типично в $DISPLAY).
    --geometry=&lt;геом&gt;      Установить клиентскую геометрию первого отображаемого окна.
------- Параметры модульной секции '/sub_UI/mod_QTStarter/' в конфигурационном файле ---------
StartMod  &lt;модули&gt;    Список запускаемых модулей (разделитель - ';');

======================= Опции модуля &lt;UI:QTCfg&gt; =============================
------- Параметры модульной секции '/sub_UI/mod_QTCfg/' в конфигурационном файле ---------
StartPath  &lt;path&gt;    Стартовый путь конфигуратора.
StartUser  &lt;user&gt;    Стартовый, беспарольный, пользователь.

======================== Опции модуля &lt;UI:Vision&gt; ============================
------- Параметры модульной секции '/sub_UI/mod_Vision/' в конфигурационном файле ---------
StartUser    &lt;польз&gt;  Стартовый, беcпарольный, пользователь.
UserPass    &lt;пароль&gt;  Пароль пользователя для нелокального запуска.
RunPrjs     &lt;список&gt;  Перечень запускаемых при старте проектов.
ExitLstRunPrjCls {0;1}Выход при закрытии последнего исполняющегося проекта (по умолчанию = 1).
CachePgLife   &lt;часы&gt;  Время жизни страниц в кеше.
VCAstation      &lt;id&gt;  Станция с движком СВУ ('.' - локальная).
RestoreTime &lt;секунды&gt; Время восстановления подключения.

======================== Опции модуля &lt;UI:WebVision&gt; ============================
------- Параметры модульной секции '/sub_UI/mod_WebVision/' в конфигурационном файле ---------
SessTimeLife &lt;время&gt;     Время жизни сессии, минуты (по умолчанию 10).
</pre>






</div></body>
</html>