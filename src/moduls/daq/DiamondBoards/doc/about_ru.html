<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>OpenSCADAWiki : Doc/DiamondBoards</title>



  
<meta name="robots" content="noindex, nofollow">
  <meta http-equiv="content-type" content="text/html; charset=windows-1251">
  <meta name="keywords" content="">
  <meta name="description" content="">
  <link rel="stylesheet" type="text/css" href="about_ru_files/wakkaprint.css"></head><body>

<div class="header">
	<h1>
  OpenSCADAWiki : <a href="http://diyaorg.dp.ua/oscadawiki/wakka.php?wakka=TextSearch?phrase=Doc%2FDiamondBoards">Doc/DiamondBoards</a> 
	</h1>
</div>

<div class="pageBefore"><img src="about_ru_files/z.gif" alt="" style="display: block;" align="top" border="0" height="1" width="1"></div><div class="page">
<a name="h97-1"></a><h1>Модуль подсистемы “Контроллеры” &lt;DiamondBoards&gt;</h1>
<br>
<table class="usertable" border="1">
<tbody><tr class="userrow"><td class="usercell"><em>Модуль:</em></td><td class="usercell">DiamondBoards</td></tr>
<tr class="userrow"><td class="usercell"><em>Имя:</em></td><td class="usercell">Diamond платы сбора данных</td></tr>
<tr class="userrow"><td class="usercell"><em>Тип:</em></td><td class="usercell">Контроллер</td></tr>
<tr class="userrow"><td class="usercell"><em>Источник:</em></td><td class="usercell">cntr_DiamondBoards.so</td></tr>
<tr class="userrow"><td class="usercell"><em>Версия:</em></td><td class="usercell">0.9.0</td></tr>
<tr class="userrow"><td class="usercell"><em>Автор:</em></td><td class="usercell">Роман Савоченко</td></tr>
<tr class="userrow"><td class="usercell"><em>Описание:</em></td><td class="usercell">Предоставляет доступ к&nbsp;платам сбора данных от&nbsp;Diamond Systems. Включает поддержку системной платы Athena.</td></tr>
<tr class="userrow"><td class="usercell"><em>Лицензия:</em></td><td class="usercell">GPL</td></tr>
</tbody></table>
<br>
<!--notypo--><fieldset><legend><strong> Оглавление документа   </strong></legend><div class="toc1"><a href="#h97-2">Введение</a></div><div class="toc1"><a href="#h97-3">1 Контроллер данных плат фирмы Diamond</a></div><div class="toc1"><a href="#h97-4">2 Параметры контроллера Diamond</a></div></fieldset><!--/notypo--><br>
<a name="h97-2"></a><h2>Введение</h2>
Модуль предоставляет в&nbsp;систему OpenSCADA поддержку источников
динамических данных основанных на&nbsp;платах сбора данных фирмы
Diamond Systems (<a href="http://diamondsystems.com/%29" target="_blank" title="Внешняя ссылка (откроется в новом окне)" class="outerlink"><img src="about_ru_files/web.gif" alt="" border="0">http://diamondsystems.com/)</a>.
Модуль построен на&nbsp;основе универсального драйвера производителя
плат. Универсальный драйвер доступен практически для&nbsp;всей
известных программных платформ в&nbsp;виде библиотеки. Универсальных
драйвер был&nbsp;получен по&nbsp;адресу <a href="http://www.diamondsystems.com/support/software" target="_blank" title="Внешняя ссылка (откроется в новом окне)" class="outerlink"><img src="about_ru_files/web.gif" alt="" border="0">http://www.diamondsystems.com/support/software</a>.
Драйвер был&nbsp;включен в&nbsp;дистрибутив системы OpenSCADA, поэтому
для&nbsp;сборки данного модуле не&nbsp;требуются внешние библиотеки.<br>
<br>
Платы сбора данных фирмы Diamond Systems представляют из&nbsp;себя
модули расширения формата PC/104. Платы могут содержать: аналоговые
IO(входы/выходы), дискретные IO&nbsp;и счётчики. Комплектация плат
может значительно варьироваться. Могут содержаться только
IO&nbsp;одного типа или&nbsp;же&nbsp;всё по&nbsp;немногу. Кроме того,
функцией сбора данных могут наделяться и&nbsp;системные платы этой
фирмы. Например, системная плата Athena содержит: 16 AI, 4 AO, 24 DIO.<br>
<br>
Модуль предоставляет поддержку аналоговых и&nbsp;дискретных IO. Сбор
аналоговых входов (AI) поддерживается в&nbsp;двух режимах: прямого
сбора и&nbsp;сбора по&nbsp;прерыванию. Метод сбора по&nbsp;прерыванию
позволяет достичь максимальной частоты опроса поддерживаемой
аппаратурой. В&nbsp;случае с&nbsp;процессорной платой Athena
эта&nbsp;частота достигает 100 кГц. В&nbsp;процессе сбора
по&nbsp;прерыванию данные получаются секундными кадрами
и&nbsp;помещаются в&nbsp;буфера архивов значений.<br>
<br>
В&nbsp;случае опроса аналоговых каналов по&nbsp;прерыванию настроить
индивидуально каждый канал нельзя. Такая возможность предоставляется
только при&nbsp;прямом опросе.<br>
<br>
Дискретные каналы, обычно, являются двунаправленными
и&nbsp;группируются по&nbsp;8 каналов. Каждой группе каналов можно
назначить свой режим входа или&nbsp;выхода. Модуль предоставляет
возможность конфигурировать группы дискретных параметров.<br>
<a name="h97-3"></a><h2>1 Контроллер данных плат фирмы Diamond</h2>
Плата фирмы Diamond Systems конфигурируется путем создания контроллера
в&nbsp;системе OpenSCADA и&nbsp;его конфигурации. Пример вкладки
конфигурации контроллера платы приведен на&nbsp;рис.1 и&nbsp;рис.2.<br>
<br>
<div style="text-align: center;"><img src="about_ru_files/wakka_005.jpeg" alt="Форма конфигурации контроллера/платы фирмы DiamondSystem (1). (67&nbsp;Кб)" title="Форма конфигурации контроллера/платы фирмы DiamondSystem (1). (67&nbsp;Кб)" height="522" width="724"><br>
Рис.1. Вкладка конфигурации контроллера/платы фирмы Diamond Systems (1).</div><br>
<br>
<div style="text-align: center;"><img src="about_ru_files/wakka.jpeg" alt="Форма конфигурации контроллера/платы фирмы DiamondSystem (2). (98&nbsp;Кб)" title="Форма конфигурации контроллера/платы фирмы DiamondSystem (2). (98&nbsp;Кб)" height="864" width="724"><br>
Рис.2. Вкладка конфигурации контроллера/платы фирмы Diamond Systems (2).</div><br>
<br>
С&nbsp;помощью этой формы можно установить:<br>
<ul><li> Состояние контроллера(платы), а&nbsp;именно: «Включен», «Запущен» и&nbsp;имя БД&nbsp;содержащей конфигурацию.
</li><li> Идентификатор, имя&nbsp;и&nbsp;описание контроллера(платы).
</li><li> Состояние в&nbsp;которое переводить контроллер при&nbsp;загрузке: «Включен» и&nbsp;«Запущен».
</li><li> Тип&nbsp;платы фирмы Diamond Systems.
</li><li> Имена таблиц для&nbsp;хранения конфигурации аналоговых и&nbsp;дискретных параметров контроллера.
</li><li> Базовый адрес и&nbsp;аппаратное прерывание платы.
</li><li> Признак сбора аналоговых входов по&nbsp;прерыванию и&nbsp;частоту сбора данных.
</li><li> Общую конфигурацию преобразователя аналоговых входов
в&nbsp;составе: диапазона входных напряжений, полярности
и&nbsp;усиления каналов.
</li><li> Сохранить/загрузить контроллер в&nbsp;БД.</li></ul>
<br>В&nbsp;режиме прямого опроса аналоговых входов: аппаратное
прерывание платы, частота опроса аналоговых входов и&nbsp;усиление
аналогового преобразователя недоступны.<br>
<br>
Для&nbsp;конфигурации портов цифровых входов/выходов на&nbsp;странице
контроллера содержится вкладка их&nbsp;конфигурации (рис.3).<br>
<br>
<div style="text-align: center;"><img src="about_ru_files/wakka_006.jpeg" alt="Форма конфигурации портов цифровых входов/выходов. (51&nbsp;Кб)" title="Форма конфигурации портов цифровых входов/выходов. (51&nbsp;Кб)" height="406" width="682"><br>
Рис.3. Вкладка конфигурации портов цифровых входов/выходов.</div><br>
<a name="h97-4"></a><h2>2 Параметры контроллера Diamond</h2>
Модулем предоставляется информация о&nbsp;двух типах параметров:
цифровом и&nbsp;аналоговом. Каждый тип&nbsp;параметра хранится
в&nbsp;отдельной БД&nbsp;и как&nbsp;следствие содержит собственную
вкладку конфигурации. Вкладка конфигурации аналоговых параметров
представлена на&nbsp;рис.4 и&nbsp;рис.5. Вкладка конфигурации цифровых
параметров представлена на&nbsp;рис.6.<br>
<br>
<div style="text-align: center;"><img src="about_ru_files/wakka_004.jpeg" alt="Форма конфигурации аналоговых входов. (73&nbsp;Кб)" title="Форма конфигурации аналоговых входов. (73&nbsp;Кб)" height="699" width="693"><br>
Рис.4. Вкладка конфигурации аналоговых входов.<br>
<br>
<img src="about_ru_files/wakka_003.jpeg" alt="Форма конфигурации аналоговых выходов. (70&nbsp;Кб)" title="Форма конфигурации аналоговых выходов. (70&nbsp;Кб)" height="668" width="693"><br>
Рис.5. Вкладка конфигурации аналоговых выходов.</div><br>
<br>
С&nbsp;помощью формы конфигурации аналоговых параметров можно установить:<br>
<ul><li> Режим параметра, а&nbsp;именно «Включен» и&nbsp;тип параметра.
</li><li> Идентификатор, имя&nbsp;и&nbsp;описание параметра.
</li><li> Состояние в&nbsp;которое переводить параметр при&nbsp;загрузке: «Включен».
</li><li> Направленность параметра – «Вход» или&nbsp;«Выход».
</li><li> Физический канал параметра.
</li><li> Усиление канала, в&nbsp;случае входа.
</li><li> Сохранить/загрузить параметр в&nbsp;БД. </li></ul>
<br>
Для&nbsp;доступа к&nbsp;значениям аналоговых параметров формируются атрибуты. Для&nbsp;аналоговых входов:<br>
<ul><li> значение в&nbsp;процентах (value);
</li><li> входное напряжение (voltage);
</li><li> код&nbsp;АЦП (code).</li></ul>
<br>
Для&nbsp;аналоговых выходов устанавливаются:<br>
<ul><li> значение в&nbsp;процентах (value);
</li><li> выходное напряжение (voltage).</li></ul>
<br>
<div style="text-align: center;"><img src="about_ru_files/wakka_002.jpeg" alt="Форма конфигурации цифровых параметров. (71&nbsp;Кб)" title="Форма конфигурации цифровых параметров. (71&nbsp;Кб)" height="706" width="695"><br>
Рис.6. Вкладка конфигурации цифровых параметров.</div><br>
<br>
С&nbsp;помощью вкладки конфигурации цифровых параметров можно установить:<br>
<ul><li> Режим параметра, а&nbsp;именно Включен» и&nbsp;тип параметра.
</li><li> Идентификатор, имя&nbsp;и&nbsp;описание параметра.
</li><li> Состояние в&nbsp;которое переводить параметр при&nbsp;загрузке: «Включен».
</li><li> Направленность параметра – «Вход» или&nbsp;«Выход».
</li><li> Физический порт и&nbsp;номер канала.
</li><li> Сохранить/загрузить параметр в&nbsp;БД. </li></ul>
<br>
Для&nbsp;доступа к&nbsp;значениям цифровых параметров формируются атрибут <em>&lt;value&gt;</em> предоставляющий входное значение или&nbsp;выставляющий выходное.</div>
</body></html>